(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"RSu+":function(t,e,a){"use strict";a.r(e);var i=a("Fk62"),s=a("1xOk"),o=a("CsWY"),r=a("hqWh"),n=a("YLls"),d=a("jHnc"),l=a("RK+r"),c=a("etCK"),b=a("9Yh1"),p=a("Fqe6"),g=a("4YvU"),h=a("OHu/"),u=a("xhB/"),f=a("G+XH"),v=a("ccoi"),m=a("EYJY"),y=a("TiKg"),w=a("Ub9n"),x=a("jeC/"),C=a("59BC"),Y=a("FBrc"),Z=a("vZS0");let k=(()=>{class t{constructor(t,e){this._http=t,this.servCamp=e,this.dataPos=[],this.dataNeg=[],this.dataNeu=[],this.dataTotal=[]}setCurrentCamaignId(t){void 0!==t&&(this.currentCamapingId=t)}getDataPos(){let t=this.servCamp.getId();return this._http.get(x.a.sails_services_urlpath+":"+x.a.sails_services_urlport+"/estadisticaByTipo/getCPostivaXDia?id="+t)}getDataNeg(){let t=this.servCamp.getId();return this._http.get(x.a.sails_services_urlpath+":"+x.a.sails_services_urlport+"/estadisticaByTipo/getCNegativaXDia?id="+t)}getDataNeu(){let t=this.servCamp.getId();return this._http.get(x.a.sails_services_urlpath+":"+x.a.sails_services_urlport+"/estadisticaByTipo/getCNeutraXDia?id="+t)}getDataTotal(){let t=this.servCamp.getId();return this._http.get(x.a.sails_services_urlpath+":"+x.a.sails_services_urlport+"/estadisticaByTipo/getCantTotalXDia?id="+t)}getAllStadistics(){return Object(C.a)([this.getDataPos(),this.getDataNeg(),this.getDataNeu(),this.getDataTotal()])}getEstPolyById(t){if(t==this.campaign.getCampaignId)return Object(C.a)([this.getDataPos(),this.getDataNeg(),this.getDataNeu(),this.getDataTotal()])}}return t.\u0275fac=function(e){return new(e||t)(w.dc(Y.c),w.dc(Z.a))},t.\u0275prov=w.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var N=a("MOtY"),T=a("qQg5"),A=a("mcTK"),D=a("Yvf7");const _=function(t){return{accent:t}};let B=(()=>{class t{constructor(t,e,a){this._estadPrueba=t,this._campaignService=e,this.servCamp=a,this.widget5SelectedDay="Ayer",this.widget2={negativaOpin:[{value:[0]}],chartType:"bar",datasets:[{label:"Cantidad",data:[]}],labels:["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],colors:[{borderColor:"#2de000",backgroundColor:"#2de000"}],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}}},this.widget3={positivaOpin:[{value:[0]}],chartType:"bar",datasets:[{label:"Cantidad",data:[]}],labels:["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],colors:[{borderColor:"#5c84f1",backgroundColor:"#42a5f5"}],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,elements:{point:{radius:2,borderWidth:1,hoverRadius:2,hoverBorderWidth:1},line:{tension:0}},layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}}},this.widget4={totalOpin:[{value:[0]}],chartType:"bar",datasets:[{label:"Cantidad",data:[]}],labels:["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],colors:[{borderColor:"#f44336",backgroundColor:"#f44336"}],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,elements:{point:{radius:2,borderWidth:1,hoverRadius:2,hoverBorderWidth:1},line:{tension:0}},layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}}},this.widget6={neutraOpin:[{value:[0]}],chartType:"bar",datasets:[{label:"Cantidad",data:[]}],labels:["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],colors:[{borderColor:"#6e076e",backgroundColor:"#6e076e"}],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,elements:{point:{radius:2,borderWidth:1,hoverRadius:2,hoverBorderWidth:1},line:{tension:0}},layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}}},this.widget5={chartType:"line",datasets:{Ayer:[{label:"Neutras",data:[1900,1300,3400,2200,2900,390,1500,380,4e3,1380,1320,2290],fill:"start"},{label:"Positivas",data:[2200,2900,3900,2500,3800,3200,2900,1900,3e3,3400,4100,3800],fill:"start"},{label:"Negativas",data:[1e3,1e3,3e3,2700,3500,1500,2100,500,2e3,1e3,5e3,2e3,3e3],fill:"start"}],Hoy:[{label:"Positivas",data:[2200,2900,3900,2500,3800,3200,2900,1900,3e3,3400,4100,3800],fill:"start"},{label:"Negativas",data:[1e3,3e3,2700,3500,1500,2100,500,2e3,1e3,5e3,2e3,3e3],fill:"start"},{label:"Neutras",data:[1900,1300,3400,2200,2900,390,500,200,2500,300,450,2e3],fill:"start"}]},labels:["12am","2am","4am","6am","8am","10am","12pm","2pm","4pm","6pm","8pm","10pm"],colors:[{borderColor:"#cc72f0",backgroundColor:"#cc72f0",pointBackgroundColor:"#cc72f0",pointHoverBackgroundColor:"#cc72f0",pointBorderColor:"#ffffff",pointHoverBorderColor:"#ffffff"},{borderColor:"#0fd1eb",backgroundColor:"#0fd1eb",pointBackgroundColor:"#0fd1eb",pointHoverBackgroundColor:"#0fd1eb",pointBorderColor:"#ffffff",pointHoverBorderColor:"#ffffff"},{borderColor:"#0feb8f",backgroundColor:"#0feb8f",pointBackgroundColor:"#0feb8f",pointHoverBackgroundColor:"#0feb8f",pointBorderColor:"#ffffff",pointHoverBorderColor:"#ffffff"}],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,tooltips:{position:"nearest",mode:"index",intersect:!1},layout:{padding:{left:24,right:32}},elements:{point:{radius:4,borderWidth:2,hoverRadius:4,hoverBorderWidth:2}},scales:{xAxes:[{gridLines:{display:!1},ticks:{fontColor:"rgba(0,0,0,0.54)"}}],yAxes:[{gridLines:{tickMarkLength:16},ticks:{stepSize:1e3}}]},plugins:{filler:{propagate:!1}}}},this._unsubscribeAll=new m.a}ngOnInit(){""!=this.servCamp.getName()&&(console.log("CampNAme "+this.servCamp.getName()),this.campaigns=this.servCamp.getName(),console.log(this.campaigns),y().format("YYYY-MM-DD hh:mm a"),this.getAllStadisticsFromBackend())}getAllStadisticsFromBackend(){this._estadPrueba.getAllStadistics().pipe(Object(v.a)(this._unsubscribeAll)).subscribe(([t,e,a,i])=>{console.log("<--- Get my data Negativa ---\x3e ",e),this.widget2.negativaOpin[0].value=e.data[7],this.widget2.datasets[0].data=e.data,console.log("<--- Get my data Positiva---\x3e ",t),this.widget3.positivaOpin[0].value=t.data[7],this.widget3.datasets[0].data=t.data,console.log("<--- Get my data Neutra---\x3e ",a),this.widget6.neutraOpin[0].value=a.data[7],this.widget6.datasets[0].data=a.data,console.log("<--- Get my data All ---\x3e ",i),this.widget4.totalOpin[0].value=i.data[7],this.widget4.datasets[0].data=i.data})}_registerCustomChartJSPlugin(){window.Chart.plugins.register({afterDatasetsDraw:function(t,e){if(!t.options.plugins.xLabelsOnTop||t.options.plugins.xLabelsOnTop&&!1===t.options.plugins.xLabelsOnTop.active)return;const a=t.ctx;t.data.datasets.forEach((function(e,i){const s=t.getDatasetMeta(i);s.hidden||s.data.forEach((function(t,i){a.fillStyle="rgba(255, 255, 255, 0.7)",a.font=window.Chart.helpers.fontString(13,"normal","Roboto, Helvetica Neue, Arial");const s=e.data[i].toString()+"k";a.textAlign="center",a.textBaseline="middle";const o=t.tooltipPosition();a.fillText(s,o.x,24),a.save(),a.beginPath(),a.setLineDash([5,3]),a.moveTo(o.x,39),a.lineTo(o.x,o.y-15),a.strokeStyle="rgba(255,255,255,0.12)",a.stroke(),a.restore()}))}))}})}}return t.\u0275fac=function(e){return new(e||t)(w.Tb(k),w.Tb(N.a),w.Tb(Z.a))},t.\u0275cmp=w.Nb({type:t,selectors:[["analytics-dashboard"]],decls:76,vars:39,consts:[["id","dashboard-analytics",1,"page-layout","blank"],[1,"content"],[1,"left","mr-lg-32"],[1,"pb-24","font-size-18","font-weight-300"],["mat-icon-button",""],[1,"secondary-text"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","start start"],["fxFlex","100","fxFlex.gt-sm","33",1,"widget"],[1,"fuse-card","auto-width","mb-32",3,"ngClass.gt-sm"],["fxLayout","row wrap","fxLayoutAlign","start end",1,"p-16","pb-0"],[1,"pr-16"],[1,"h2"],[1,"h3","secondary-text"],[1,"font-size-54","font-weight-300","line-height-1","mt-8"],[1,"h-96","w-100-p"],["baseChart","",3,"datasets","labels","colors","options","chartType"],["fxFlex","100","fxFlex.gt-sm","34",1,"widget"],[1,"fuse-card","auto-width"],[1,"pt-48","pb-24","font-size-18","font-weight-300"],["fxLayout","row","fxLayoutAlign","space-between center",1,"position-relative","p-24"],["fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","start center"],[1,"py-8","px-12","border-radius-2","line-height-1","mr-8","cursor-pointer",3,"ngClass","click"],[1,"py-8","px-12","border-radius-2","line-height-1","mr-8","cursor-pointer"],[1,"position-relative","h-368","pb-16"]],template:function(t,e){1&t&&(w.Zb(0,"div",0),w.Zb(1,"div",1),w.Zb(2,"div",2),w.Zb(3,"div",3),w.Nc(4," Tendencia de Opiniones por Polaridad "),w.Zb(5,"h4"),w.Nc(6),w.Yb(),w.Zb(7,"button",4),w.Zb(8,"h5"),w.Nc(9,"Imprimir:"),w.Yb(),w.Zb(10,"mat-icon",5),w.Nc(11,"print"),w.Yb(),w.Yb(),w.Yb(),w.Zb(12,"div",6),w.Zb(13,"div",7),w.Zb(14,"div",8),w.Zb(15,"div",9),w.Zb(16,"div",10),w.Zb(17,"div",11),w.Nc(18,"Negativa"),w.Yb(),w.Zb(19,"div",12),w.Nc(20,"Opiniones en la semana"),w.Yb(),w.Zb(21,"div",13),w.Nc(22),w.Yb(),w.Yb(),w.Yb(),w.Zb(23,"div",14),w.Ub(24,"canvas",15),w.Yb(),w.Yb(),w.Yb(),w.Zb(25,"div",16),w.Zb(26,"div",8),w.Zb(27,"div",9),w.Zb(28,"div",10),w.Zb(29,"div",11),w.Nc(30,"Positiva"),w.Yb(),w.Zb(31,"div",12),w.Nc(32,"Opiniones en la semana"),w.Yb(),w.Zb(33,"div",13),w.Nc(34),w.Yb(),w.Yb(),w.Yb(),w.Zb(35,"div",14),w.Ub(36,"canvas",15),w.Yb(),w.Yb(),w.Yb(),w.Zb(37,"div",16),w.Zb(38,"div",8),w.Zb(39,"div",9),w.Zb(40,"div",10),w.Zb(41,"div",11),w.Nc(42,"Neutra"),w.Yb(),w.Zb(43,"div",12),w.Nc(44,"Opiniones en la semana"),w.Yb(),w.Zb(45,"div",13),w.Nc(46),w.Yb(),w.Yb(),w.Yb(),w.Zb(47,"div",14),w.Ub(48,"canvas",15),w.Yb(),w.Yb(),w.Yb(),w.Zb(49,"div",7),w.Zb(50,"div",17),w.Zb(51,"div",9),w.Zb(52,"div",10),w.Zb(53,"div",11),w.Nc(54,"Total de Opiniones"),w.Yb(),w.Zb(55,"div",12),w.Nc(56,"Opiniones en la semana"),w.Yb(),w.Zb(57,"div",13),w.Nc(58),w.Yb(),w.Yb(),w.Yb(),w.Zb(59,"div",14),w.Ub(60,"canvas",15),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Zb(61,"div",18),w.Nc(62," Comportamiento "),w.Yb(),w.Zb(63,"div",17),w.Zb(64,"div",19),w.Zb(65,"div",20),w.Zb(66,"span",11),w.Nc(67,"Polaridades"),w.Yb(),w.Yb(),w.Zb(68,"div",21),w.Zb(69,"div",22),w.hc("click",(function(t){return e.widget5SelectedDay="yesterday"})),w.Nc(70," Ayer "),w.Yb(),w.Zb(71,"div",22),w.hc("click",(function(t){return e.widget5SelectedDay="today"})),w.Nc(72," Hoy "),w.Yb(),w.Ub(73,"div",23),w.Yb(),w.Yb(),w.Zb(74,"div",24),w.Ub(75,"canvas",15),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Yb()),2&t&&(w.Fb(6),w.Pc("Campa\xf1a analizada: ",e.campaigns,""),w.Fb(8),w.sc("ngClass.gt-sm","mb-0 mr-32"),w.Fb(8),w.Pc(" ",e.widget2.negativaOpin[0].value," "),w.Fb(2),w.sc("datasets",e.widget2.datasets)("labels",e.widget2.labels)("colors",e.widget2.colors)("options",e.widget2.options)("chartType",e.widget2.chartType),w.Fb(2),w.sc("ngClass.gt-sm","mb-0 mr-32"),w.Fb(8),w.Pc(" ",e.widget3.positivaOpin[0].value," "),w.Fb(2),w.sc("datasets",e.widget3.datasets)("labels",e.widget3.labels)("colors",e.widget3.colors)("options",e.widget3.options)("chartType",e.widget3.chartType),w.Fb(2),w.sc("ngClass.gt-sm","mb-0 mr-32"),w.Fb(8),w.Pc(" ",e.widget6.neutraOpin[0].value," "),w.Fb(2),w.sc("datasets",e.widget6.datasets)("labels",e.widget6.labels)("colors",e.widget6.colors)("options",e.widget6.options)("chartType",e.widget6.chartType),w.Fb(10),w.Pc(" ",e.widget4.totalOpin[0].value," "),w.Fb(2),w.sc("datasets",e.widget4.datasets)("labels",e.widget4.labels)("colors",e.widget4.colors)("options",e.widget4.options)("chartType",e.widget4.chartType),w.Fb(9),w.sc("ngClass",w.vc(35,_,"yesterday"===e.widget5SelectedDay)),w.Fb(2),w.sc("ngClass",w.vc(37,_,"today"===e.widget5SelectedDay)),w.Fb(4),w.sc("datasets",e.widget5.datasets[e.widget5SelectedDay])("labels",e.widget5.labels)("colors",e.widget5.colors)("options",e.widget5.options)("chartType",e.widget5.chartType))},directives:[s.b,r.a,T.c,T.b,T.a,A.a,b.a,D.q],styles:["#dashboard-analytics .main-widget{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}#dashboard-analytics .content{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;padding:32px;min-width:0}@media screen and (max-width:1279px){#dashboard-analytics .content{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}#dashboard-analytics .content .left{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}#dashboard-analytics .content .left,#dashboard-analytics .content .left .widget{-webkit-box-flex:1;flex:1 1 auto;min-width:0}#dashboard-analytics .content .right{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 auto;width:320px;min-width:320px;max-width:320px}@media screen and (max-width:1279px){#dashboard-analytics .content .right{-webkit-box-flex:1;flex:1 0 100%;margin-top:32px}}@media screen and (max-width:1279px){#dashboard-analytics .content .right,#dashboard-analytics .content .right .fuse-card{width:100%;min-width:0;max-width:none}}"],encapsulation:2,data:{animation:f.a}}),t})(),O=(()=>{class t{constructor(t){this._httpClient=t}resolve(t,e){return new Promise((t,e)=>{Promise.all([]).then(()=>{t()},e)})}}return t.\u0275fac=function(e){return new(e||t)(w.dc(Y.c))},t.\u0275prov=w.Pb({token:t,factory:t.\u0275fac}),t})();var P=a("oof0"),F=a("CaZ3");a.d(e,"AnalyticsDashboardModule",(function(){return S}));const L=[{path:"**",component:B,canActivate:[P.a],resolve:{data:O}}];let S=(()=>{class t{}return t.\u0275mod=w.Rb({type:t}),t.\u0275inj=w.Qb({factory:function(e){return new(e||t)},providers:[O],imports:[[i.k.forChild(L),s.c,o.d,r.b,n.b,d.b,l.c,c.a.forRoot({apiKey:"AIzaSyD81ecsCj4yYpcXSLFcYU97PvRsE_X8Bx8"}),b.b,p.b,g.c,h.a,u.a,F.a]]}),t})()}}]);