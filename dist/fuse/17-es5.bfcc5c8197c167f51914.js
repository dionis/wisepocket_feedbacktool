function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){r=!0,l=e},f:function(){try{c||null==a.return||a.return()}finally{if(r)throw l}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{FpsG:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("EYJY"),n=a("ccoi"),l=a("Ub9n"),c=a("bwEX"),r=function(){var e=function(){function e(t,a,n){_classCallCheck(this,e),this._elementRef=t,this._fuseMediaMatchService=a,this._renderer=n,this._unsubscribeAll=new i.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(n.a)(this._unsubscribeAll)).subscribe((function(t){"xs"===t?e._removeClass():e._addClass()})))}},{key:"ngOnDestroy",value:function(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}},{key:"_addClass",value:function(){this._renderer.addClass(this._grandParent,"inner-scroll")}},{key:"_removeClass",value:function(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Tb(l.l),l.Tb(c.a),l.Tb(l.H))},e.\u0275dir=l.Ob({type:e,selectors:[["",8,"inner-scroll"]]}),e}()},KooE:function(e,t,a){"use strict";a.r(t);var i,n,l=a("Fk62"),c=a("1xOk"),r=a("PUIy"),o=a("1rLY"),s=a("0sao"),b=a("CsWY"),m=a("hqWh"),u=a("N2ZZ"),d=a("YLls"),f=a("jHnc"),h=a("TYSv"),p=a("zasx"),g=a("OHu/"),v=a("Ncdh"),x=a("6UlS"),y=a("/0p4"),w=function(){function e(t){_classCallCheck(this,e),this.id=t.id,this.from=t.from,this.to=t.to,this.subject=t.subject,this.message=t.message,this.time=t.time,this.read=t.read,this.starred=t.starred,this.important=t.important,this.hasAttachments=t.hasAttachments,this.attachments=t.attachments,this.labels=t.labels,this.folder=t.folder}return _createClass(e,[{key:"toggleStar",value:function(){this.starred=!this.starred}},{key:"toggleImportant",value:function(){this.important=!this.important}}]),e}(),F=a("Ub9n"),Y=a("FBrc"),Z=((i=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.searchText="",this.selectedMails=[],this.onMailsChanged=new x.a([]),this.onSelectedMailsChanged=new x.a([]),this.onCurrentMailChanged=new x.a([]),this.onFoldersChanged=new x.a([]),this.onFiltersChanged=new x.a([]),this.onLabelsChanged=new x.a([]),this.onSearchTextChanged=new x.a("")}return _createClass(e,[{key:"resolve",value:function(e,t){var a=this;return this.routeParams=e.params,new Promise((function(e,t){Promise.all([a.getFolders(),a.getFilters(),a.getLabels(),a.getMails()]).then((function(){a.setCurrentMail(a.routeParams.mailId?a.routeParams.mailId:null),a.onSearchTextChanged.subscribe((function(e){a.searchText=e,a.getMails()})),e()}),t)}))}},{key:"getFolders",value:function(){var e=this;return new Promise((function(t,a){e._httpClient.get("api/mail-folders").subscribe((function(a){e.folders=a,e.onFoldersChanged.next(e.folders),t(e.folders)}),a)}))}},{key:"getFilters",value:function(){var e=this;return new Promise((function(t,a){e._httpClient.get("api/mail-filters").subscribe((function(a){e.filters=a,e.onFiltersChanged.next(e.filters),t(e.filters)}),a)}))}},{key:"getLabels",value:function(){var e=this;return new Promise((function(t,a){e._httpClient.get("api/mail-labels").subscribe((function(a){e.labels=a,e.onLabelsChanged.next(e.labels),t(e.labels)}),a)}))}},{key:"getMails",value:function(){return this.routeParams.labelHandle?this.getMailsByLabel(this.routeParams.labelHandle):this.routeParams.filterHandle?this.getMailsByFilter(this.routeParams.filterHandle):this.getMailsByFolder(this.routeParams.folderHandle)}},{key:"getMailsByFolder",value:function(e){var t=this;return new Promise((function(a,i){t._httpClient.get("api/mail-folders?handle="+e).subscribe((function(e){t._httpClient.get("api/mail-mails?folder="+e[0].id).subscribe((function(e){t.mails=e.map((function(e){return new w(e)})),t.mails=y.a.filterArrayByString(t.mails,t.searchText),t.onMailsChanged.next(t.mails),a(t.mails)}),i)}))}))}},{key:"getMailsByFilter",value:function(e){var t=this;return new Promise((function(a,i){t._httpClient.get("api/mail-mails?"+e+"=true").subscribe((function(e){t.mails=e.map((function(e){return new w(e)})),t.mails=y.a.filterArrayByString(t.mails,t.searchText),t.onMailsChanged.next(t.mails),a(t.mails)}),i)}))}},{key:"getMailsByLabel",value:function(e){var t=this;return new Promise((function(a,i){t._httpClient.get("api/mail-labels?handle="+e).subscribe((function(e){t._httpClient.get("api/mail-mails?labels="+e[0].id).subscribe((function(e){t.mails=e.map((function(e){return new w(e)})),t.mails=y.a.filterArrayByString(t.mails,t.searchText),t.onMailsChanged.next(t.mails),a(t.mails)}),i)}))}))}},{key:"toggleSelectedMail",value:function(e){if(this.selectedMails.length>0){var t,a=_createForOfIteratorHelper(this.selectedMails);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.id===e){var n=this.selectedMails.indexOf(i);if(-1!==n)return this.selectedMails.splice(n,1),void this.onSelectedMailsChanged.next(this.selectedMails)}}}catch(l){a.e(l)}finally{a.f()}}this.selectedMails.push(this.mails.find((function(t){return t.id===e}))),this.onSelectedMailsChanged.next(this.selectedMails)}},{key:"toggleSelectAll",value:function(){this.selectedMails.length>0?this.deselectMails():this.selectMails()}},{key:"selectMails",value:function(e,t){var a;this.selectedMails=[],void 0===e||void 0===t?this.selectedMails=this.mails:(a=this.selectedMails).push.apply(a,_toConsumableArray(this.mails.filter((function(a){return a[e]===t})))),this.onSelectedMailsChanged.next(this.selectedMails)}},{key:"deselectMails",value:function(){this.selectedMails=[],this.onSelectedMailsChanged.next(this.selectedMails)}},{key:"setCurrentMail",value:function(e){this.currentMail=this.mails.find((function(t){return t.id===e})),this.onCurrentMailChanged.next(this.currentMail)}},{key:"toggleLabelOnSelectedMails",value:function(e){var t=this;this.selectedMails.map((function(a){var i=a.labels.indexOf(e);-1!==i?a.labels.splice(i,1):a.labels.push(e),t.updateMail(a)}))}},{key:"setFolderOnSelectedMails",value:function(e){var t=this;this.selectedMails.map((function(a){a.folder=e,t.updateMail(a)})),this.deselectMails()}},{key:"updateMail",value:function(e){var t=this;return new Promise((function(a,i){t._httpClient.post("api/mail-mails/"+e.id,Object.assign({},e)).subscribe((function(e){t.getMails().then((function(e){e&&t.currentMail&&t.setCurrentMail(t.currentMail.id),a(e)}),i)}))}))}}]),e}()).\u0275fac=function(e){return new(e||i)(F.dc(Y.c))},i.\u0275prov=F.Pb({token:i,factory:i.\u0275fac}),i),_=a("8VHZ"),L=a("EYJY"),S=a("ccoi"),k=a("+3x0"),M=a("S5zL"),C={lang:"en",data:{MAIL:{COMPOSE:"COMPOSE",FOLDERS:"FOLDERS",FILTERS:"FILTERS",LABELS:"LABELS",NO_MESSAGES:"There are no messages!",SELECT_A_MESSAGE_TO_READ:"Select a message to read",SEARCH_PLACEHOLDER:"Search for an e-mail or contact"},OPINION:{COMPOSE:"COMPOSE",FOLDERS:"FOLDERS",FILTERS:"FILTERS",LABELS:"LABELS",NO_MESSAGES:"There are no messages!",SELECT_A_MESSAGE_TO_READ:"Select a message to read",SEARCH_PLACEHOLDER:"Search for an e-mail or contact"}}},A={lang:"tr",data:{MAIL:{COMPOSE:"YEN\u0130 E-POSTA",FOLDERS:"KLAS\xd6RLER",FILTERS:"F\u0130LTRELER",LABELS:"ET\u0130KETLER",NO_MESSAGES:"Mesajiniz bulunmamakta!",SELECT_A_MESSAGE_TO_READ:"Okumak i\xe7in bir mesaj se\xe7in",SEARCH_PLACEHOLDER:"E-mail yada bir ki\u015fi aray\u0131n"}}},O=a("0u4M"),N=a("ZYkU"),I=a("FpsG"),E=a("RONT"),T=a("G+XH"),P=a("qQg5"),D=a("FBYz"),R=a("mcTK"),j=((n=function(){function e(t,a){_classCallCheck(this,e),this.matDialogRef=t,this._data=a,this.composeForm=this.createComposeForm(),this.showExtraToFields=!1}return _createClass(e,[{key:"createComposeForm",value:function(){return new _.g({from:new _.d({value:"johndoe@creapond.com",disabled:!0}),to:new _.d(""),cc:new _.d(""),bcc:new _.d(""),subject:new _.d(""),message:new _.d("")})}},{key:"toggleExtraToFields",value:function(){this.showExtraToFields=!this.showExtraToFields}}]),e}()).\u0275fac=function(e){return new(e||n)(F.Tb(s.f),F.Tb(s.a))},n.\u0275cmp=F.Nb({type:n,selectors:[["mail-compose"]],decls:69,vars:6,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","m-0"],["name","composeForm","fxLayout","column","fxFlex","",1,"compose-form",3,"formGroup"],["appearance","outline"],["matInput","","name","from","formControlName","from","type","email"],[1,"show-hide-extra-fields",3,"click"],[3,"fxShow"],["matInput","","name","to","formControlName","to","type","email","required",""],["appearance","outline",3,"fxShow"],["matInput","","name","cc","formControlName","cc","type","email"],["matInput","","name","bcc","formControlName","bcc","type","email"],["matInput","","name","subject","formControlName","subject"],["matInput","","name","message","formControlName","message","rows","6"],[1,"attachment-list"],["fxLayout","row","fxLayoutAlign","space-between center",1,"attachment"],[1,"filename"],[1,"size","ml-4"],["mat-icon-button","","aria-label","Delete attachment"],[1,"s-16"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-between center",1,"m-0","p-16"],["mat-raised-button","","color","accent","aria-label","SAVE",1,"save-button",3,"disabled","click"],["mat-icon-button","","matTooltip","Attach a file"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click"]],template:function(e,t){1&e&&(F.Zb(0,"div",0),F.Zb(1,"mat-toolbar",1),F.Zb(2,"mat-toolbar-row",2),F.Zb(3,"span",3),F.Nc(4,"New Message"),F.Yb(),F.Zb(5,"button",4),F.hc("click",(function(e){return t.matDialogRef.close()})),F.Zb(6,"mat-icon"),F.Nc(7,"close"),F.Yb(),F.Yb(),F.Yb(),F.Yb(),F.Zb(8,"div",5),F.Zb(9,"form",6),F.Zb(10,"mat-form-field",7),F.Zb(11,"mat-label"),F.Nc(12,"From"),F.Yb(),F.Ub(13,"input",8),F.Yb(),F.Zb(14,"div",9),F.hc("click",(function(e){return t.toggleExtraToFields()})),F.Zb(15,"span",10),F.Nc(16,"Show CC & BCC"),F.Yb(),F.Zb(17,"span",10),F.Nc(18,"Hide CC & BCC"),F.Yb(),F.Yb(),F.Zb(19,"mat-form-field",7),F.Zb(20,"mat-label"),F.Nc(21,"To"),F.Yb(),F.Ub(22,"input",11),F.Yb(),F.Zb(23,"mat-form-field",12),F.Zb(24,"mat-label"),F.Nc(25,"Cc"),F.Yb(),F.Ub(26,"input",13),F.Yb(),F.Zb(27,"mat-form-field",12),F.Zb(28,"mat-label"),F.Nc(29,"Bcc"),F.Yb(),F.Ub(30,"input",14),F.Yb(),F.Zb(31,"mat-form-field",7),F.Zb(32,"mat-label"),F.Nc(33,"Subject"),F.Yb(),F.Ub(34,"input",15),F.Yb(),F.Zb(35,"mat-form-field",7),F.Zb(36,"mat-label"),F.Nc(37,"Message"),F.Yb(),F.Zb(38,"textarea",16),F.Nc(39,"                "),F.Yb(),F.Yb(),F.Zb(40,"div",17),F.Zb(41,"div",18),F.Zb(42,"div"),F.Zb(43,"span",19),F.Nc(44,"attachment-2.doc"),F.Yb(),F.Zb(45,"span",20),F.Nc(46,"(12 Kb)"),F.Yb(),F.Yb(),F.Zb(47,"button",21),F.Zb(48,"mat-icon",22),F.Nc(49,"close"),F.Yb(),F.Yb(),F.Yb(),F.Zb(50,"div",18),F.Zb(51,"div"),F.Zb(52,"span",19),F.Nc(53,"attachment-1.jpg"),F.Yb(),F.Zb(54,"span",20),F.Nc(55,"(350 Kb)"),F.Yb(),F.Yb(),F.Zb(56,"button",21),F.Zb(57,"mat-icon",22),F.Nc(58,"close"),F.Yb(),F.Yb(),F.Yb(),F.Yb(),F.Yb(),F.Yb(),F.Zb(59,"div",23),F.Zb(60,"div"),F.Zb(61,"button",24),F.hc("click",(function(e){return t.matDialogRef.close(["send",t.composeForm])})),F.Nc(62," SEND "),F.Yb(),F.Zb(63,"button",25),F.Zb(64,"mat-icon"),F.Nc(65,"attach_file"),F.Yb(),F.Yb(),F.Yb(),F.Zb(66,"button",26),F.hc("click",(function(e){return t.matDialogRef.close(["delete",t.composeForm])})),F.Zb(67,"mat-icon"),F.Nc(68,"delete"),F.Yb(),F.Yb(),F.Yb(),F.Yb()),2&e&&(F.Fb(9),F.sc("formGroup",t.composeForm),F.Fb(6),F.sc("fxShow",!t.showExtraToFields),F.Fb(2),F.sc("fxShow",t.showExtraToFields),F.Fb(6),F.sc("fxShow",t.showExtraToFields),F.Fb(4),F.sc("fxShow",t.showExtraToFields),F.Fb(34),F.sc("disabled",t.composeForm.invalid))},directives:[h.a,h.c,P.a,P.c,P.b,c.b,m.a,s.d,D.a,_.w,_.p,_.h,b.b,b.f,u.b,_.b,_.o,_.f,R.b,_.u,s.c],styles:["@media screen and (max-width:599px){.mail-compose-dialog{width:100%}}@media screen and (min-width:600px){.mail-compose-dialog{width:640px}}.mail-compose-dialog .mat-dialog-container{padding:0}.mail-compose-dialog .mat-dialog-container .compose-form .mat-form-field{width:100%}.mail-compose-dialog .mat-dialog-container .compose-form .show-hide-extra-fields{text-align:right;cursor:pointer;font-size:12px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list{font-size:13px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment{border:1px solid;border-radius:20px;padding-left:16px;margin-top:8px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment .filename{font-weight:600}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment:last-child{margin-bottom:0}.mail-compose-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"],encapsulation:2}),n),H=a("Yvf7"),U=a("Bqte");function B(e,t){if(1&e&&(F.Zb(0,"mat-option",15),F.Nc(1),F.Yb()),2&e){var a=t.$implicit;F.sc("value",a.key),F.Fb(1),F.Pc(" ",a.value," ")}}function z(e,t){if(1&e&&(F.Zb(0,"mat-icon",19),F.Nc(1),F.Yb()),2&e){var a=F.lc().$implicit;F.Fb(1),F.Oc(a.icon)}}var $=function(){return["active","accent"]};function G(e,t){if(1&e&&(F.Zb(0,"div",16),F.Zb(1,"a",17),F.Lc(2,z,2,1,"mat-icon",18),F.Zb(3,"span"),F.Nc(4),F.Yb(),F.Yb(),F.Yb()),2&e){var a=t.$implicit;F.Fb(1),F.sc("routerLink","/apps/mail/"+a.handle)("routerLinkActive",F.uc(4,$)),F.Fb(1),F.sc("ngIf",a.icon),F.Fb(2),F.Oc(a.title)}}function q(e,t){if(1&e&&(F.Zb(0,"mat-icon",21),F.Nc(1),F.Yb()),2&e){var a=F.lc().$implicit;F.sc("ngClass",a.color),F.Fb(1),F.Oc(a.icon)}}function J(e,t){if(1&e&&(F.Zb(0,"div",16),F.Zb(1,"a",17),F.Lc(2,q,2,2,"mat-icon",20),F.Zb(3,"span"),F.Nc(4),F.Yb(),F.Yb(),F.Yb()),2&e){var a=t.$implicit;F.Fb(1),F.sc("routerLink","/apps/mail/filter/"+a.handle)("routerLinkActive",F.uc(4,$)),F.Fb(1),F.sc("ngIf",a.icon),F.Fb(2),F.Oc(a.title)}}var K=function(e){return{color:e}};function V(e,t){if(1&e&&(F.Zb(0,"div",16),F.Zb(1,"a",17),F.Zb(2,"mat-icon",22),F.Nc(3,"label"),F.Yb(),F.Zb(4,"span"),F.Nc(5),F.Yb(),F.Yb(),F.Yb()),2&e){var a=t.$implicit;F.Fb(1),F.sc("routerLink","/apps/mail/label/"+a.handle)("routerLinkActive",F.uc(4,$)),F.Fb(1),F.sc("ngStyle",F.vc(5,K,a.color)),F.Fb(3),F.Oc(a.title)}}var W,Q=function(){return{delay:"50ms",scale:"0.2"}},X=function(e){return{value:"*",params:e}},ee=function(){return{delay:"100ms",x:"-25px"}},te=function(){return{delay:"300ms"}},ae=function(){return{y:"50px"}},ie=((W=function(){function e(t,a){_classCallCheck(this,e),this._mailService=t,this._matDialog=a,this.accounts={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"},this.selectedAccount="creapond",this._unsubscribeAll=new L.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._mailService.onFoldersChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.folders=t})),this._mailService.onFiltersChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.filters=t})),this._mailService.onLabelsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.labels=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"composeDialog",value:function(){this.dialogRef=this._matDialog.open(j,{panelClass:"mail-compose-dialog"}),this.dialogRef.afterClosed().subscribe((function(e){if(e){var t=e[1];switch(e[0]){case"send":console.log("new Mail",t.getRawValue());break;case"delete":console.log("delete Mail")}}}))}}]),e}()).\u0275fac=function(e){return new(e||W)(F.Tb(Z),F.Tb(s.b))},W.\u0275cmp=F.Nb({type:W,selectors:[["mail-main-sidebar"]],decls:31,vars:35,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"header","accent","p-24","pb-4"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","s-32"],[1,"logo-text"],["fxLayout","column",1,"account"],[1,"title"],["floatLabel","never"],["placeholder","Mail Selection",1,"account-selection",3,"ngModel"],[3,"value",4,"ngFor","ngForOf"],["fusePerfectScrollbar","",1,"content"],[1,"px-24","pt-32","pb-12"],["mat-raised-button","","aria-label","Compose",1,"mat-accent","compose-dialog-button","w-100-p",3,"click"],[1,"nav","material2"],[1,"nav-subheader"],["class","nav-item",4,"ngFor","ngForOf"],[3,"value"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"routerLink","routerLinkActive"],["class","nav-link-icon",4,"ngIf"],[1,"nav-link-icon"],["class","nav-link-icon",3,"ngClass",4,"ngIf"],[1,"nav-link-icon",3,"ngClass"],[1,"nav-link-icon",3,"ngStyle"]],template:function(e,t){1&e&&(F.Zb(0,"div",0),F.Zb(1,"div",1),F.Zb(2,"mat-icon",2),F.Nc(3,"mail "),F.Yb(),F.Zb(4,"span",3),F.Nc(5,"Mailbox"),F.Yb(),F.Yb(),F.Zb(6,"div",4),F.Zb(7,"div",5),F.Nc(8,"John Doe"),F.Yb(),F.Zb(9,"mat-form-field",6),F.Zb(10,"mat-select",7),F.Lc(11,B,2,2,"mat-option",8),F.mc(12,"keys"),F.Yb(),F.Yb(),F.Yb(),F.Yb(),F.Zb(13,"div",9),F.Zb(14,"div",10),F.Zb(15,"button",11),F.hc("click",(function(e){return t.composeDialog()})),F.Nc(16),F.mc(17,"translate"),F.Yb(),F.Yb(),F.Zb(18,"div",12),F.Zb(19,"div",13),F.Nc(20),F.mc(21,"translate"),F.Yb(),F.Lc(22,G,5,5,"div",14),F.Zb(23,"div",13),F.Nc(24),F.mc(25,"translate"),F.Yb(),F.Lc(26,J,5,5,"div",14),F.Zb(27,"div",13),F.Nc(28),F.mc(29,"translate"),F.Yb(),F.Lc(30,V,6,7,"div",14),F.Yb(),F.Yb()),2&e&&(F.Fb(2),F.sc("@animate",F.vc(24,X,F.uc(23,Q))),F.Fb(2),F.sc("@animate",F.vc(27,X,F.uc(26,ee))),F.Fb(2),F.sc("@animate",F.vc(30,X,F.uc(29,te))),F.Fb(4),F.sc("ngModel",t.selectedAccount),F.Fb(1),F.sc("ngForOf",F.nc(12,13,t.accounts)),F.Fb(2),F.sc("@animate",F.vc(33,X,F.uc(32,ae))),F.Fb(3),F.Pc(" ",F.nc(17,15,"MAIL.COMPOSE")," "),F.Fb(4),F.Oc(F.nc(21,17,"MAIL.FOLDERS")),F.Fb(2),F.sc("ngForOf",t.folders),F.Fb(2),F.Oc(F.nc(25,19,"MAIL.FILTERS")),F.Fb(2),F.sc("ngForOf",t.filters),F.Fb(2),F.Oc(F.nc(29,21,"MAIL.LABELS")),F.Fb(2),F.sc("ngForOf",t.labels))},directives:[P.c,P.b,P.a,m.a,b.b,f.a,_.o,_.r,H.s,D.a,c.b,o.n,l.j,o.r,l.i,H.t,H.q,R.a,H.w,R.c],pipes:[U.a,p.c],styles:["mail-main-sidebar{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}mail-main-sidebar .header .logo .logo-icon{margin:0 16px 0 0}mail-main-sidebar .header .logo .logo-text{font-size:24px;line-height:24px}mail-main-sidebar .header .account{width:100%}"],encapsulation:2,data:{animation:T.a}}),W),ne=a("Adbh"),le=a("tUf/");function ce(e,t){if(1&e&&F.Ub(0,"img",16),2&e){var a=F.lc();F.tc("alt",null==a.mail.from?null:a.mail.from.name),F.tc("src",null==a.mail.from?null:a.mail.from.avatar,F.Fc)}}function re(e,t){if(1&e&&(F.Zb(0,"div",17),F.Nc(1),F.Yb()),2&e){var a=F.lc();F.Fb(1),F.Oc(null==a.mail.from?null:a.mail.from.name[0])}}function oe(e,t){if(1&e&&(F.Zb(0,"span",18),F.Nc(1),F.Yb()),2&e){var a=F.lc();F.Fb(1),F.Oc(null==a.mail.from?null:a.mail.from.name)}}function se(e,t){1&e&&(F.Zb(0,"mat-icon",19),F.Nc(1,"attachment"),F.Yb())}function be(e,t){if(1&e&&(F.Zb(0,"div",20),F.Nc(1),F.mc(2,"slice"),F.mc(3,"htmlToPlaintext"),F.Yb()),2&e){var a=F.lc();F.Fb(1),F.Qc(" ",F.pc(2,2,F.nc(3,6,a.mail.message),0,180),"",a.mail.message.length>180?"...":""," ")}}var me=function(e){return{"background-color":e}};function ue(e,t){if(1&e&&(F.Zb(0,"div",21),F.Ub(1,"div",22),F.mc(2,"getById"),F.Zb(3,"div",23),F.Nc(4),F.mc(5,"getById"),F.Yb(),F.Yb()),2&e){var a=t.$implicit,i=F.lc();F.Fb(1),F.sc("ngStyle",F.vc(10,me,F.pc(2,2,i.labels,a,"color"))),F.Fb(3),F.Oc(F.pc(5,6,i.labels,a,"title"))}}var de,fe=((de=function(){function e(t){_classCallCheck(this,e),this._mailService=t,this._unsubscribeAll=new L.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.mail=new w(this.mail),this._mailService.onSelectedMailsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){if(e.selected=!1,t.length>0){var a,i=_createForOfIteratorHelper(t);try{for(i.s();!(a=i.n()).done;)if(a.value.id===e.mail.id){e.selected=!0;break}}catch(n){i.e(n)}finally{i.f()}}})),this._mailService.onLabelsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.labels=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onSelectedChange",value:function(){this._mailService.toggleSelectedMail(this.mail.id)}},{key:"toggleStar",value:function(e){e.stopPropagation(),this.mail.toggleStar(),this._mailService.updateMail(this.mail)}},{key:"toggleImportant",value:function(e){e.stopPropagation(),this.mail.toggleImportant(),this._mailService.updateMail(this.mail)}}]),e}()).\u0275fac=function(e){return new(e||de)(F.Tb(Z))},de.\u0275cmp=F.Nb({type:de,selectors:[["mail-list-item"]],hostVars:2,hostBindings:function(e,t){2&e&&F.Jb("selected",t.selected)},inputs:{mail:"mail"},decls:19,vars:9,consts:[["fxLayout","row","fxLayoutAlign","start center"],[3,"ngModel","ngModelChange","click"],["fxFlex","","FlexLayout","column",1,"info"],["fxLayout","row","fxLayoutAlign","start center",1,"row-1"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"name"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar accent",4,"ngIf"],["class","text-truncate",4,"ngIf"],["class","s-16 ml-8",4,"ngIf"],[1,"time"],["fxLayout","row","fxLayoutAlign","start center",1,"row-2"],["fxLayout","column","fxLayoutAlign","start start"],[1,"subject","text-truncate"],["class","message text-truncate",4,"ngIf"],["fxLayout","row wrap","fxHide","","fxShow.gt-sm","",1,"labels"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],[1,"avatar",3,"alt","src"],[1,"avatar","accent"],[1,"text-truncate"],[1,"s-16","ml-8"],[1,"message","text-truncate"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"]],template:function(e,t){1&e&&(F.Zb(0,"div",0),F.Zb(1,"mat-checkbox",1),F.hc("ngModelChange",(function(e){return t.selected=e}))("ngModelChange",(function(e){return t.onSelectedChange()}))("click",(function(e){return e.stopPropagation()})),F.Yb(),F.Zb(2,"div",2),F.Zb(3,"div",3),F.Zb(4,"div",4),F.Lc(5,ce,1,2,"img",5),F.Lc(6,re,2,1,"div",6),F.Lc(7,oe,2,1,"span",7),F.Lc(8,se,2,0,"mat-icon",8),F.Yb(),F.Zb(9,"div",0),F.Zb(10,"div",9),F.Nc(11),F.Yb(),F.Yb(),F.Yb(),F.Zb(12,"div",10),F.Zb(13,"div",11),F.Zb(14,"div",12),F.Nc(15),F.Yb(),F.Lc(16,be,4,8,"div",13),F.Zb(17,"div",14),F.Lc(18,ue,6,12,"div",15),F.Yb(),F.Yb(),F.Yb(),F.Yb(),F.Yb()),2&e&&(F.Fb(1),F.sc("ngModel",t.selected),F.Fb(4),F.sc("ngIf",null==t.mail.from?null:t.mail.from.avatar),F.Fb(1),F.sc("ngIf",!(null!=t.mail.from&&t.mail.from.avatar)),F.Fb(1),F.sc("ngIf",null==t.mail?null:t.mail.from),F.Fb(1),F.sc("ngIf",t.mail.hasAttachments),F.Fb(3),F.Oc(t.mail.time),F.Fb(4),F.Pc(" ",t.mail.subject," "),F.Fb(1),F.sc("ngIf",null==t.mail?null:t.mail.message),F.Fb(2),F.sc("ngForOf",t.mail.labels))},directives:[P.c,P.b,r.a,_.o,_.r,P.a,H.t,R.b,H.s,m.a,H.w,R.c],pipes:[H.E,ne.a,le.a],styles:["mail-list-item{flex-shrink:0;position:relative;padding:16px 24px;border-bottom:1px solid;cursor:pointer}mail-list-item.unread .info .name,mail-list-item.unread .info .row-2 .subject{font-weight:700}mail-list-item .info{overflow:hidden;width:0;margin-left:16px;position:relative}mail-list-item .info .row-1{margin-bottom:8px}mail-list-item .info .row-1 .name{font-size:15px;font-weight:600}mail-list-item .info .row-1 .name .avatar{min-width:32px;width:32px;height:32px;line-height:32px}mail-list-item .info .row-1 .actions{margin-left:4px}mail-list-item .info .row-1 .actions .mat-icon-button{width:32px;height:32px;line-height:1}mail-list-item .info .row-2 .message,mail-list-item .info .row-2 .subject{width:100%}mail-list-item .info .row-2 .message{position:relative}mail-list-item .info .row-2 .labels{margin-top:8px}mail-list-item .info .row-2 .labels .label{font-size:11px;border-radius:4px;margin:0 4px 0 0;padding:3px 8px}mail-list-item .info .row-2 .labels .label .label-color{width:8px;height:8px;margin-right:8px;border-radius:50%}"],encapsulation:2}),de);function he(e,t){1&e&&(F.Zb(0,"div",3),F.Zb(1,"span",4),F.Nc(2),F.mc(3,"translate"),F.Yb(),F.Yb()),2&e&&(F.Fb(2),F.Oc(F.nc(3,1,"MAIL.NO_MESSAGES")))}var pe=function(e){return{"current-mail":e}},ge=function(){return{y:"100%"}},ve=function(e){return{value:"*",params:e}};function xe(e,t){if(1&e){var a=F.ac();F.Zb(0,"mail-list-item",5),F.hc("click",(function(e){F.Dc(a);var i=t.$implicit;return F.lc().readMail(i.id)})),F.Yb()}if(2&e){var i=t.$implicit,n=F.lc();F.sc("mail",i)("ngClass",F.vc(3,pe,(null==i?null:i.id)==(null==n.currentMail?null:n.currentMail.id)))("@animate",F.vc(6,ve,F.uc(5,ge)))}}var ye,we=function(){return{value:"50"}},Fe=((ye=function(){function e(t,a,i){_classCallCheck(this,e),this._activatedRoute=t,this._mailService=a,this._location=i,this._unsubscribeAll=new L.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._mailService.onMailsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.mails=t})),this._mailService.onCurrentMailChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){if(t)e.currentMail=t;else{e.currentMail=null;var a=e._activatedRoute.snapshot.params.labelHandle,i=e._activatedRoute.snapshot.params.filterHandle,n=e._activatedRoute.snapshot.params.folderHandle;e._location.go(a?"apps/mail/label/"+a:i?"apps/mail/filter/"+i:"apps/mail/"+n)}}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"readMail",value:function(e){var t=this._activatedRoute.snapshot.params.labelHandle,a=this._activatedRoute.snapshot.params.filterHandle;this._location.go(t?"apps/mail/label/"+t+"/"+e:a?"apps/mail/filter/"+a+"/"+e:"apps/mail/"+this._activatedRoute.snapshot.params.folderHandle+"/"+e),this._mailService.setCurrentMail(e)}}]),e}()).\u0275fac=function(e){return new(e||ye)(F.Tb(l.a),F.Tb(Z),F.Tb(H.n))},ye.\u0275cmp=F.Nb({type:ye,selectors:[["mail-list"]],decls:3,vars:4,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[1,"mail-list"],[3,"mail","ngClass","click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[3,"mail","ngClass","click"]],template:function(e,t){1&e&&(F.Lc(0,he,4,3,"div",0),F.Zb(1,"div",1),F.Lc(2,xe,1,8,"mail-list-item",2),F.Yb()),2&e&&(F.sc("ngIf",0===t.mails.length),F.Fb(1),F.sc("@animateStagger",F.uc(3,we)),F.Fb(1),F.sc("ngForOf",t.mails))},directives:[H.t,H.s,P.c,P.b,P.d,fe,H.q,R.a],pipes:[p.c],styles:["mail-list{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;padding:0;border-right:1px solid;overflow-y:auto;-webkit-overflow-scrolling:touch}mail-list .no-messages-text{font-size:24px;font-weight:300}mail-list .mail-list{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1}"],encapsulation:2,data:{animation:T.a}}),ye),Ye=function(){return{delay:"300ms",scale:"0.2"}},Ze=function(e){return{value:"*",params:e}},_e=function(){return{delay:"400ms"}};function Le(e,t){1&e&&(F.Zb(0,"div",2),F.Zb(1,"mat-icon",3),F.Nc(2," email "),F.Yb(),F.Zb(3,"span",4),F.Zb(4,"span"),F.Nc(5),F.mc(6,"translate"),F.Yb(),F.Yb(),F.Yb()),2&e&&(F.Fb(1),F.sc("@animate",F.vc(6,Ze,F.uc(5,Ye))),F.Fb(2),F.sc("@animate",F.vc(9,Ze,F.uc(8,_e))),F.Fb(2),F.Oc(F.nc(6,3,"MAIL.SELECT_A_MESSAGE_TO_READ")))}var Se=function(e){return{"background-color":e}};function ke(e,t){if(1&e&&(F.Zb(0,"div",34),F.Ub(1,"div",35),F.mc(2,"getById"),F.Zb(3,"div",36),F.Nc(4),F.mc(5,"getById"),F.Yb(),F.Yb()),2&e){var a=t.$implicit,i=F.lc(2);F.Fb(1),F.sc("ngStyle",F.vc(10,Se,F.pc(2,2,i.labels,a,"color"))),F.Fb(3),F.Oc(F.pc(5,6,i.labels,a,"title"))}}function Me(e,t){1&e&&(F.Zb(0,"mat-icon",37),F.Nc(1,"star"),F.Yb())}function Ce(e,t){1&e&&(F.Zb(0,"mat-icon",38),F.Nc(1,"star_border"),F.Yb())}function Ae(e,t){1&e&&(F.Zb(0,"mat-icon",39),F.Nc(1,"label"),F.Yb())}function Oe(e,t){1&e&&(F.Zb(0,"mat-icon",38),F.Nc(1,"label_outline"),F.Yb())}function Ne(e,t){if(1&e&&F.Ub(0,"img",40),2&e){var a=F.lc(2);F.tc("alt",a.mail.from.name),F.tc("src",a.mail.from.avatar,F.Fc)}}function Ie(e,t){if(1&e&&(F.Zb(0,"div",41),F.Nc(1),F.Yb()),2&e){var a=F.lc(2);F.Fb(1),F.Pc(" ",a.mail.from.name[0]," ")}}function Ee(e,t){1&e&&(F.Zb(0,"span"),F.Nc(1,"Show Details"),F.Yb())}function Te(e,t){1&e&&(F.Zb(0,"span"),F.Nc(1,"Hide Details"),F.Yb())}function Pe(e,t){if(1&e&&(F.Zb(0,"div",42),F.Zb(1,"div",43),F.Zb(2,"span",44),F.Nc(3,"From:"),F.Yb(),F.Zb(4,"span",44),F.Nc(5,"To:"),F.Yb(),F.Zb(6,"span",44),F.Nc(7,"Date:"),F.Yb(),F.Yb(),F.Zb(8,"div",43),F.Zb(9,"span",45),F.Nc(10),F.Yb(),F.Zb(11,"span",45),F.Nc(12),F.Yb(),F.Zb(13,"span",45),F.Nc(14),F.Yb(),F.Yb(),F.Yb()),2&e){var a=F.lc(2);F.Fb(10),F.Oc(a.mail.from.email),F.Fb(2),F.Oc(a.mail.to[0].email),F.Fb(2),F.Oc(a.mail.time)}}function De(e,t){if(1&e&&(F.Zb(0,"div",49),F.Ub(1,"img",50),F.Zb(2,"div",43),F.Zb(3,"a",51),F.Nc(4,"View"),F.Yb(),F.Zb(5,"a",51),F.Nc(6,"Download"),F.Yb(),F.Zb(7,"div",52),F.Nc(8),F.Yb(),F.Yb(),F.Yb()),2&e){var a=t.$implicit;F.Fb(1),F.tc("src",a.preview,F.Fc),F.Fb(7),F.Pc("(",a.size,")")}}function Re(e,t){if(1&e&&(F.Zb(0,"div",46),F.Zb(1,"div",44),F.Zb(2,"span"),F.Nc(3,"Attachments"),F.Yb(),F.Nc(4),F.Yb(),F.Zb(5,"div",47),F.Lc(6,De,9,2,"div",48),F.Yb(),F.Yb()),2&e){var a=F.lc(2);F.Fb(4),F.Pc(" (",a.mail.attachments.length,") "),F.Fb(2),F.sc("ngForOf",a.mail.attachments)}}function je(e,t){if(1&e){var a=F.ac();F.Zb(0,"div"),F.Zb(1,"div",5),F.Zb(2,"div"),F.Zb(3,"div",6),F.Nc(4),F.Yb(),F.Zb(5,"div",7),F.Lc(6,ke,6,12,"div",8),F.Yb(),F.Yb(),F.Zb(7,"div",9),F.Zb(8,"button",10),F.hc("click",(function(e){return F.Dc(a),F.lc().toggleStar(e)})),F.Lc(9,Me,2,0,"mat-icon",11),F.Lc(10,Ce,2,0,"mat-icon",12),F.Yb(),F.Zb(11,"button",13),F.hc("click",(function(e){return F.Dc(a),F.lc().toggleImportant(e)})),F.Lc(12,Ae,2,0,"mat-icon",14),F.Lc(13,Oe,2,0,"mat-icon",12),F.Yb(),F.Yb(),F.Yb(),F.Zb(14,"div",15),F.Zb(15,"div",16),F.Zb(16,"div",17),F.Zb(17,"div",18),F.Zb(18,"div"),F.Lc(19,Ne,1,2,"img",19),F.Lc(20,Ie,2,1,"div",20),F.Yb(),F.Zb(21,"div",21),F.Zb(22,"div",22),F.Nc(23),F.Yb(),F.Zb(24,"div",23),F.Zb(25,"div",24),F.Nc(26,"to"),F.Yb(),F.Zb(27,"div"),F.Nc(28),F.Yb(),F.Yb(),F.Yb(),F.Yb(),F.Zb(29,"a",25),F.hc("click",(function(e){F.Dc(a);var t=F.lc();return t.showDetails=!t.showDetails})),F.Lc(30,Ee,2,0,"span",1),F.Lc(31,Te,2,0,"span",1),F.Yb(),F.Lc(32,Pe,15,3,"div",26),F.Yb(),F.Zb(33,"button",27),F.hc("click",(function(e){return F.Dc(a),e.stopPropagation()})),F.Zb(34,"mat-icon"),F.Nc(35,"more_vert"),F.Yb(),F.Yb(),F.Zb(36,"mat-menu",null,28),F.Zb(38,"button",29),F.Zb(39,"mat-icon"),F.Nc(40,"reply"),F.Yb(),F.Zb(41,"span"),F.Nc(42,"Reply"),F.Yb(),F.Yb(),F.Zb(43,"button",30),F.Zb(44,"mat-icon"),F.Nc(45,"forward"),F.Yb(),F.Zb(46,"span"),F.Nc(47,"Forward"),F.Yb(),F.Yb(),F.Zb(48,"button",31),F.Zb(49,"mat-icon"),F.Nc(50,"print"),F.Yb(),F.Zb(51,"span"),F.Nc(52,"Print"),F.Yb(),F.Yb(),F.Yb(),F.Yb(),F.Ub(53,"div",32),F.Yb(),F.Lc(54,Re,7,2,"div",33),F.Yb()}if(2&e){var i=F.zc(37),n=F.lc();F.Fb(4),F.Oc(n.mail.subject),F.Fb(2),F.sc("ngForOf",n.mail.labels),F.Fb(3),F.sc("ngIf",n.mail.starred),F.Fb(1),F.sc("ngIf",!n.mail.starred),F.Fb(2),F.sc("ngIf",n.mail.important),F.Fb(1),F.sc("ngIf",!n.mail.important),F.Fb(6),F.sc("ngIf",n.mail.from.avatar),F.Fb(1),F.sc("ngIf",!n.mail.from.avatar),F.Fb(3),F.Pc(" ",n.mail.from.name," "),F.Fb(5),F.Oc(n.mail.to[0].name),F.Fb(2),F.sc("ngIf",!n.showDetails),F.Fb(1),F.sc("ngIf",n.showDetails),F.Fb(1),F.sc("ngIf",n.showDetails),F.Fb(1),F.sc("matMenuTriggerFor",i),F.Fb(20),F.sc("innerHTML",n.mail.message,F.Ec),F.Fb(1),F.sc("ngIf",n.mail.attachments)}}var He,Ue=((He=function(){function e(t){_classCallCheck(this,e),this._mailService=t,this.showDetails=!1,this._unsubscribeAll=new L.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._mailService.onCurrentMailChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.mail=t})),this._mailService.onLabelsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.labels=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleStar",value:function(e){e.stopPropagation(),this.mail.toggleStar(),this._mailService.updateMail(this.mail)}},{key:"toggleImportant",value:function(e){e.stopPropagation(),this.mail.toggleImportant(),this._mailService.updateMail(this.mail)}}]),e}()).\u0275fac=function(e){return new(e||He)(F.Tb(Z))},He.\u0275cmp=F.Nb({type:He,selectors:[["mail-details"]],decls:2,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex",""],[1,"s-128","mb-16","select-message-icon","hint-text"],[1,"select-message-text","hint-text"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mail-header"],[1,"subject"],["fxLayout","row wrap",1,"labels","mt-8"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"actions"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","Toggle important",3,"click"],["class","red-fg",4,"ngIf"],[1,"mail-content"],["fxLayout","row","fxLayoutAlign","space-between start",1,"info"],["fxFlex","","fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","start start"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar","ms-random-class","vm.colors",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start"],[1,"name"],["fxLayout","row","fxLayoutAlign","start center",1,"to"],[1,"to-text"],[1,"toggle-details",3,"click"],["class","details","fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","Reply"],["mat-menu-item","","aria-label","Forward"],["mat-menu-item","","aria-label","Print"],[3,"innerHTML"],["class","mail-attachments",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"],[1,"amber-fg"],[1,"secondary-text"],[1,"red-fg"],[1,"avatar",3,"alt","src"],["ms-random-class","vm.colors",1,"avatar"],["fxLayout","row","fxLayoutAlign","start start",1,"details"],["fxLayout","column"],[1,"title"],[1,"detail"],[1,"mail-attachments"],["fxLayout","row wrap",1,"attachment-list"],["class","attachment","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"attachment"],[1,"preview",3,"src"],["href","#","onclick","event.preventDefault()"],[1,"size"]],template:function(e,t){1&e&&(F.Lc(0,Le,7,11,"div",0),F.Lc(1,je,55,16,"div",1)),2&e&&(F.sc("ngIf",!t.mail),F.Fb(1),F.sc("ngIf",t.mail))},directives:[H.t,P.c,P.b,P.a,m.a,H.s,c.b,d.c,d.d,d.a,H.w,R.c],pipes:[p.c,le.a],styles:["mail-details{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;padding:24px;overflow-y:auto;-webkit-overflow-scrolling:touch}mail-details .select-message-text{font-size:24px;font-weight:300}mail-details .mail-header{padding-bottom:16px;border-bottom:1px solid}mail-details .mail-header .actions{min-width:88px}mail-details .mail-header .subject{font-size:17px;font-weight:600}mail-details .mail-header .label{font-size:11px;border-radius:4px;margin:4px 4px 4px 0;padding:3px 8px}mail-details .mail-header .label .label-color{width:8px;height:8px;margin-right:8px;border-radius:50%}mail-details .mail-content{padding:24px 0}mail-details .mail-content .to .to-text{margin-right:4px;text-transform:lowercase}mail-details .mail-content .info{padding-bottom:16px}mail-details .mail-content .info .avatar{margin-right:16px}mail-details .mail-content .info .name{margin-right:8px;font-weight:600}mail-details .mail-content .info .toggle-details{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:underline;padding-top:16px;cursor:pointer;font-weight:600}mail-details .mail-content .info .details{padding-top:8px}mail-details .mail-content .info .details .title{font-weight:600;margin-right:6px}mail-details .mail-attachments{padding:24px 0;border-top:1px solid}mail-details .mail-attachments .title{margin-bottom:16px;font-weight:600}mail-details .mail-attachments .attachment .preview{width:100px;margin:0 16px 8px 0;border-radius:4px}mail-details .mail-attachments .attachment .link{margin-bottom:2px}mail-details .mail-attachments .attachment .size{font-size:11px}"],encapsulation:2,data:{animation:T.a}}),He);function Be(e,t){1&e&&F.Ub(0,"div",26)}function ze(e,t){if(1&e){var a=F.ac();F.Zb(0,"button",27),F.hc("click",(function(e){return F.Dc(a),F.lc().setFolderOnSelectedMails(4)})),F.Zb(1,"mat-icon",8),F.Nc(2,"delete"),F.Yb(),F.Yb()}}function $e(e,t){if(1&e&&(F.Zb(0,"button",14),F.Zb(1,"mat-icon",8),F.Nc(2,"folder"),F.Yb(),F.Yb()),2&e){F.lc();var a=F.zc(44);F.sc("matMenuTriggerFor",a)}}function Ge(e,t){if(1&e){var a=F.ac();F.Zb(0,"button",16),F.hc("click",(function(e){F.Dc(a);var i=t.$implicit;return F.lc().setFolderOnSelectedMails(i.id)})),F.Nc(1),F.Yb()}if(2&e){var i=t.$implicit;F.Fb(1),F.Pc("",i.title," ")}}function qe(e,t){if(1&e&&(F.Zb(0,"button",14),F.Zb(1,"mat-icon",8),F.Nc(2,"label"),F.Yb(),F.Yb()),2&e){F.lc();var a=F.zc(48);F.sc("matMenuTriggerFor",a)}}function Je(e,t){if(1&e){var a=F.ac();F.Zb(0,"button",16),F.hc("click",(function(e){F.Dc(a);var i=t.$implicit;return F.lc().toggleLabelOnSelectedMails(i.id)})),F.Nc(1),F.Yb()}if(2&e){var i=t.$implicit;F.Fb(1),F.Pc("",i.title," ")}}function Ke(e,t){if(1&e){var a=F.ac();F.Zb(0,"div",28),F.Zb(1,"button",27),F.hc("click",(function(e){return F.Dc(a),F.lc().deselectCurrentMail()})),F.Zb(2,"mat-icon",8),F.Nc(3,"arrow_back"),F.Yb(),F.Yb(),F.Yb()}}var Ve,We=function(e){return{"current-mail-selected":e}},Qe=((Ve=function(){function e(t,a,i){_classCallCheck(this,e),this._mailService=t,this._fuseSidebarService=a,this._fuseTranslationLoaderService=i,this._fuseTranslationLoaderService.loadTranslations(C,A),this.searchInput=new _.d(""),this._unsubscribeAll=new L.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._mailService.onSelectedMailsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){setTimeout((function(){e.hasSelectedMails=t.length>0,e.isIndeterminate=t.length!==e._mailService.mails.length&&t.length>0}),0)})),this._mailService.onFoldersChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.folders=e._mailService.folders})),this._mailService.onFiltersChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.filters=e._mailService.filters})),this._mailService.onLabelsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.labels=e._mailService.labels})),this._mailService.onCurrentMailChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe((function(t){e.currentMail=t||null})),this.searchInput.valueChanges.pipe(Object(S.a)(this._unsubscribeAll),Object(k.a)(300),Object(M.a)()).subscribe((function(t){e._mailService.onSearchTextChanged.next(t)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleSelectAll",value:function(){this._mailService.toggleSelectAll()}},{key:"selectMails",value:function(e,t){this._mailService.selectMails(e,t)}},{key:"deselectMails",value:function(){this._mailService.deselectMails()}},{key:"deselectCurrentMail",value:function(){this._mailService.onCurrentMailChanged.next(null)}},{key:"toggleLabelOnSelectedMails",value:function(e){this._mailService.toggleLabelOnSelectedMails(e)}},{key:"setFolderOnSelectedMails",value:function(e){this._mailService.setFolderOnSelectedMails(e)}},{key:"toggleSidebar",value:function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}}]),e}()).\u0275fac=function(e){return new(e||Ve)(F.Tb(Z),F.Tb(O.a),F.Tb(N.a))},Ve.\u0275cmp=F.Nb({type:Ve,selectors:[["mail"]],decls:54,vars:17,consts:[["id","mail",1,"page-layout","carded","left-sidebar","inner-scroll"],[1,"top-bg","accent"],["name","mail-main-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"center"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["mat-icon-button","","fxHide.gt-md","",1,"sidebar-toggle",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"search"],[1,"secondary-text"],["fxFlex","",3,"formControl","placeholder"],[1,"content-card",3,"ngClass"],[1,"toolbar","px-24","py-8"],["fxFlex","row","fxLayoutAlign","start center",1,"mail-selection"],[3,"checked","indeterminate","click"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],["class","toolbar-separator",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["folderMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["labelMenu","matMenu"],["fxHide.gt-xs","",4,"ngIf"],["fxLayout","row",1,"content"],["fusePerfectScrollbar","","fxFlex",""],[1,"toolbar-separator"],["mat-icon-button","",3,"click"],["fxHide.gt-xs",""]],template:function(e,t){if(1&e&&(F.Zb(0,"div",0),F.Ub(1,"div",1),F.Zb(2,"fuse-sidebar",2),F.Ub(3,"mail-main-sidebar"),F.Yb(),F.Zb(4,"div",3),F.Zb(5,"div",4),F.Zb(6,"div",5),F.Zb(7,"button",6),F.hc("click",(function(e){return t.toggleSidebar("mail-main-sidebar")})),F.Zb(8,"mat-icon"),F.Nc(9,"menu"),F.Yb(),F.Yb(),F.Zb(10,"div",7),F.Zb(11,"mat-icon",8),F.Nc(12,"search"),F.Yb(),F.Ub(13,"input",9),F.mc(14,"translate"),F.Yb(),F.Yb(),F.Yb(),F.Zb(15,"div",10),F.Zb(16,"div",11),F.Zb(17,"div",12),F.Zb(18,"mat-checkbox",13),F.hc("click",(function(e){return t.toggleSelectAll()})),F.Yb(),F.Zb(19,"button",14),F.Zb(20,"mat-icon"),F.Nc(21,"arrow_drop_down"),F.Yb(),F.Yb(),F.Zb(22,"mat-menu",null,15),F.Zb(24,"button",16),F.hc("click",(function(e){return t.selectMails()})),F.Nc(25,"All"),F.Yb(),F.Zb(26,"button",16),F.hc("click",(function(e){return t.deselectMails()})),F.Nc(27,"None"),F.Yb(),F.Zb(28,"button",16),F.hc("click",(function(e){return t.selectMails("read",!0)})),F.Nc(29,"Read"),F.Yb(),F.Zb(30,"button",16),F.hc("click",(function(e){return t.selectMails("read",!1)})),F.Nc(31,"Unread"),F.Yb(),F.Zb(32,"button",16),F.hc("click",(function(e){return t.selectMails("starred",!0)})),F.Nc(33,"Starred"),F.Yb(),F.Zb(34,"button",16),F.hc("click",(function(e){return t.selectMails("starred",!1)})),F.Nc(35,"Unstarred"),F.Yb(),F.Zb(36,"button",16),F.hc("click",(function(e){return t.selectMails("important",!0)})),F.Nc(37,"Important"),F.Yb(),F.Zb(38,"button",16),F.hc("click",(function(e){return t.selectMails("important",!1)})),F.Nc(39,"Unimportant"),F.Yb(),F.Yb(),F.Lc(40,Be,1,0,"div",17),F.Lc(41,ze,3,0,"button",18),F.Lc(42,$e,3,1,"button",19),F.Zb(43,"mat-menu",null,20),F.Lc(45,Ge,2,1,"button",21),F.Yb(),F.Lc(46,qe,3,1,"button",19),F.Zb(47,"mat-menu",null,22),F.Lc(49,Je,2,1,"button",21),F.Yb(),F.Yb(),F.Lc(50,Ke,4,0,"div",23),F.Yb(),F.Zb(51,"div",24),F.Ub(52,"mail-list",25),F.Ub(53,"mail-details",25),F.Yb(),F.Yb(),F.Yb(),F.Yb()),2&e){var a=F.zc(23);F.Fb(13),F.sc("formControl",t.searchInput)("placeholder",F.nc(14,13,"MAIL.SEARCH_PLACEHOLDER")),F.Fb(2),F.sc("ngClass",F.vc(15,We,t.currentMail)),F.Fb(3),F.sc("checked",t.hasSelectedMails)("indeterminate",t.isIndeterminate),F.Fb(1),F.sc("matMenuTriggerFor",a),F.Fb(21),F.sc("ngIf",t.hasSelectedMails),F.Fb(1),F.sc("ngIf",t.hasSelectedMails),F.Fb(1),F.sc("ngIf",t.hasSelectedMails),F.Fb(3),F.sc("ngForOf",t.folders),F.Fb(1),F.sc("ngIf",t.hasSelectedMails),F.Fb(3),F.sc("ngForOf",t.labels),F.Fb(1),F.sc("ngIf",t.currentMail)}},directives:[I.a,E.a,ie,P.c,P.b,P.a,c.b,R.b,m.a,_.b,_.o,_.e,H.q,R.a,r.a,d.c,d.d,d.a,H.t,H.s,Fe,D.a,Ue],pipes:[p.c],styles:["mail{width:100%}mail .center .header .search-wrapper{border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}mail .center .header .search-wrapper .sidebar-toggle{margin:0 0 0 6px;width:56px;height:56px;border-radius:0;border-right:1px solid}mail .center .header .search-wrapper .search{width:100%;height:56px;line-height:56px;padding:0 18px}mail .center .header .search-wrapper .search input{height:56px;min-height:56px;max-height:56px;padding:0 16px;border:none;outline:none}mail .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:599px){mail .center .content-card mail-list{border-right:none}mail .center .content-card mail-details,mail .center .content-card mail-list{-webkit-box-flex:1;flex:1 0 100%}mail .center .content-card mail-details{display:none!important}mail .center .content-card.current-mail-selected .toolbar{padding-left:16px!important}mail .center .content-card.current-mail-selected .content mail-list,mail .center .content-card.current-mail-selected .toolbar .mail-selection{display:none!important}mail .center .content-card.current-mail-selected .content mail-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2}),Ve);a.d(t,"MailModule",(function(){return tt}));var Xe,et=[{path:"label/:labelHandle",component:Qe,resolve:{mail:Z}},{path:"label/:labelHandle/:mailId",component:Qe,resolve:{mail:Z}},{path:"filter/:filterHandle",component:Qe,resolve:{mail:Z}},{path:"filter/:filterHandle/:mailId",component:Qe,resolve:{mail:Z}},{path:":folderHandle",component:Qe,resolve:{mail:Z}},{path:":folderHandle/:mailId",component:Qe,resolve:{mail:Z}},{path:"**",redirectTo:"inbox"}],tt=((Xe=function e(){_classCallCheck(this,e)}).\u0275mod=F.Rb({type:Xe}),Xe.\u0275inj=F.Qb({factory:function(e){return new(e||Xe)},providers:[Z],imports:[[l.k.forChild(et),c.c,r.b,s.e,b.d,m.b,u.c,d.b,o.s,f.b,h.b,p.b,g.a,v.f]]}),Xe)}}]);