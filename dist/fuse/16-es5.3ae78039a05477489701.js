function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(i=(c=o.next()).done)&&(n.push(c.value),!e||n.length!==e);i=!0);}catch(s){r=!0,a=s}finally{try{i||null==o.return||o.return()}finally{if(r)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Bn0Y:function(t,e,n){"use strict";n.r(e);var i=n("Fk62"),r=n("1xOk"),a=n("PUIy"),c=n("1rLY"),o=n("0sao"),s=n("CsWY"),l=n("hqWh"),u=n("N2ZZ"),f=n("YLls"),b=n("jHnc"),d=n("TYSv"),p=n("zasx"),h=n("OHu/"),m=n("Ncdh"),g=n("Ub9n"),v=n("6UlS"),y=n("GAcG"),x=n("EYJY"),_=n("un9+"),S=n("OTbb"),k=n("REFP"),C=n("/zlj");function L(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new w(e,n))}}var O,w=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new A(t,this.observables,this.project))}}]),t}(),A=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;_classCallCheck(this,n),(a=e.call(this,t)).observables=i,a.project=r,a.toRespond=[];var c=i.length;a.values=new Array(c);for(var o=0;o<c;o++)a.toRespond.push(o);for(var s=0;s<c;s++){var l=i[s];a.add(Object(C.a)(_assertThisInitialized(a),l,l,s))}return a}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.values[n]=e;var a=this.toRespond;if(a.length>0){var c=a.indexOf(n);-1!==c&&a.splice(c,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(k.a),E=n("6JFP"),F=n("O6Zd"),I=n("S5zL"),M="@ngrx/store/init",j=((O=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this,{type:M})}return _createClass(n,[{key:"next",value:function(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"complete",this).call(this)}}]),n}(v.a)).\u0275fac=function(t){return new(t||O)},O.\u0275prov=g.Pb({token:O,factory:O.\u0275fac}),O),Y=[j],Z=new g.s("@ngrx/store Internal Root Guard"),T=new g.s("@ngrx/store Internal Initial State"),R=new g.s("@ngrx/store Initial State"),N=new g.s("@ngrx/store Reducer Factory"),D=new g.s("@ngrx/store Internal Reducer Factory Provider"),P=new g.s("@ngrx/store Initial Reducers"),U=new g.s("@ngrx/store Internal Initial Reducers"),G=new g.s("@ngrx/store Store Features"),B=new g.s("@ngrx/store Internal Store Reducers"),$=new g.s("@ngrx/store Internal Feature Reducers"),H=new g.s("@ngrx/store Internal Feature Configs"),z=new g.s("@ngrx/store Internal Store Features"),V=new g.s("@ngrx/store Internal Feature Reducers Token"),W=new g.s("@ngrx/store Feature Reducers"),Q=new g.s("@ngrx/store User Provided Meta Reducers"),q=new g.s("@ngrx/store Meta Reducers"),J=new g.s("@ngrx/store Internal Resolved Meta Reducers"),K=new g.s("@ngrx/store User Runtime Checks Config"),X=new g.s("@ngrx/store Internal User Runtime Checks Config"),tt=new g.s("@ngrx/store Internal Runtime Checks");function et(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t),i={},r=0;r<n.length;r++){var a=n[r];"function"==typeof t[a]&&(i[a]=t[a])}var c=Object.keys(i);return function(t,n){t=void 0===t?e:t;for(var r=!1,a={},o=0;o<c.length;o++){var s=c[o],l=t[s],u=(0,i[s])(l,n);a[s]=u,r=r||u!==l}return r?a:t}}function nt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){if(0===e.length)return t;var n=e[e.length-1];return e.slice(0,-1).reduceRight((function(t,e){return e(t)}),n(t))}}function it(t,e){return Array.isArray(e)&&e.length>0&&(t=nt.apply(null,[].concat(_toConsumableArray(e),[t]))),function(e,n){var i=t(e);return function(t,e){return i(t=void 0===t?n:t,e)}}}var rt,at,ct,ot=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(y.a),st=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(j),lt=((rt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var c;return _classCallCheck(this,n),(c=e.call(this,a(r,i))).dispatcher=t,c.initialState=i,c.reducers=r,c.reducerFactory=a,c}return _createClass(n,[{key:"addFeature",value:function(t){this.addFeatures([t])}},{key:"addFeatures",value:function(t){var e=t.reduce((function(t,e){var n=e.reducers,i=e.reducerFactory,r=e.metaReducers,a=e.initialState,c=e.key,o="function"==typeof n?function(t){var e=Array.isArray(t)&&t.length>0?nt.apply(void 0,_toConsumableArray(t)):function(t){return t};return function(t,n){return t=e(t),function(e,i){return t(e=void 0===e?n:e,i)}}}(r)(n,a):it(i,r)(n,a);return t[c]=o,t}),{});this.addReducers(e)}},{key:"removeFeature",value:function(t){this.removeFeatures([t])}},{key:"removeFeatures",value:function(t){this.removeReducers(t.map((function(t){return t.key})))}},{key:"addReducer",value:function(t,e){this.addReducers(_defineProperty({},t,e))}},{key:"addReducers",value:function(t){this.reducers=Object.assign({},this.reducers,t),this.updateReducers(Object.keys(t))}},{key:"removeReducer",value:function(t){this.removeReducers([t])}},{key:"removeReducers",value:function(t){var e=this;t.forEach((function(t){var n,i;e.reducers=(n=e.reducers,i=t,Object.keys(n).filter((function(t){return t!==i})).reduce((function(t,e){return Object.assign(t,_defineProperty({},e,n[e]))}),{}))})),this.updateReducers(t)}},{key:"updateReducers",value:function(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(v.a)).\u0275fac=function(t){return new(t||rt)(g.dc(st),g.dc(R),g.dc(P),g.dc(N))},rt.\u0275prov=g.Pb({token:rt,factory:rt.\u0275fac}),rt),ut=[lt,{provide:ot,useExisting:lt},{provide:st,useExisting:j}],ft=((at=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(x.a)).\u0275fac=function(t){return bt(t||at)},at.\u0275prov=g.Pb({token:at,factory:at.\u0275fac}),at),bt=g.bc(ft),dt=[ft],pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(y.a),ht=((ct=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var c;_classCallCheck(this,n),c=e.call(this,a);var o={state:a},s=t.pipe(Object(S.b)(_.a)).pipe(L(i)).pipe(Object(E.a)(mt,o));return c.stateSubscription=s.subscribe((function(t){var e=t.state,n=t.action;c.next(e),r.next(n)})),c}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),n}(v.a)).\u0275fac=function(t){return new(t||ct)(g.dc(j),g.dc(ot),g.dc(ft),g.dc(R))},ct.\u0275prov=g.Pb({token:ct,factory:ct.\u0275fac}),ct.INIT=M,ct);function mt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},e=arguments.length>1?arguments[1]:void 0,n=_slicedToArray(e,2),i=n[0],r=n[1],a=t.state;return{state:r(a,i),action:i}}var gt,vt=[ht,{provide:pt,useExisting:ht}],yt=((gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this)).actionsObserver=i,a.reducerManager=r,a.source=t,a}return _createClass(n,[{key:"select",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return _t.call.apply(_t,[null,t].concat(n))(this)}},{key:"lift",value:function(t){var e=new n(this,this.actionsObserver,this.reducerManager);return e.operator=t,e}},{key:"dispatch",value:function(t){this.actionsObserver.next(t)}},{key:"next",value:function(t){this.actionsObserver.next(t)}},{key:"error",value:function(t){this.actionsObserver.error(t)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(t,e){this.reducerManager.addReducer(t,e)}},{key:"removeReducer",value:function(t){this.reducerManager.removeReducer(t)}}]),n}(y.a)).\u0275fac=function(t){return new(t||gt)(g.dc(pt),g.dc(j),g.dc(lt))},gt.\u0275prov=g.Pb({token:gt,factory:gt.\u0275fac}),gt),xt=[yt];function _t(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return function(n){var r;if("string"==typeof t){var a=[e].concat(i).filter(Boolean);r=n.pipe((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.length;if(0===i)throw new Error("list of properties cannot be empty.");return function(t){return Object(F.a)(function(t,e){return function(n){for(var i=n,r=0;r<e;r++){var a=i[t[r]];if(void 0===a)return;i=a}return i}}(e,i))(t)}}).apply(void 0,[t].concat(_toConsumableArray(a))))}else{if("function"!=typeof t)throw new TypeError("Unexpected type '".concat(typeof t,"' in select operator,")+" expected 'string' or 'function'");r=n.pipe(Object(F.a)((function(n){return t(n,e)})))}return r.pipe(Object(I.a)())}}function St(t,e){return t===e}function kt(t,e,n){for(var i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function Ct(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St,r=null,a=null;return{memoized:function(){if(void 0!==e)return e;if(!r)return a=t.apply(null,arguments),r=arguments,a;if(!kt(arguments,r,n))return a;var c=t.apply(null,arguments);return r=arguments,i(a,c)?a:(a=c,c)},reset:function(){r=null,a=null},setResult:function(t){e=t}}}function Lt(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:Ot};return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=i;if(Array.isArray(a[0])){var c=a,o=_toArray(c),s=o[0],l=o.slice(1);a=[].concat(_toConsumableArray(s),_toConsumableArray(l))}var u=a.slice(0,a.length-1),f=a[a.length-1],b=u.filter((function(t){return t.release&&"function"==typeof t.release})),d=t((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.apply(null,e)})),p=Ct((function(t,n){return e.stateFn.apply(null,[t,u,n,d])}));return Object.assign(p.memoized,{release:function(){p.reset(),d.reset(),b.forEach((function(t){return t.release()}))},projector:d.memoized,setResult:p.setResult})}}(Ct).apply(void 0,arguments)}function Ot(t,e,n,i){if(void 0===n){var r=e.map((function(e){return e(t)}));return i.memoized.apply(null,r)}var a=e.map((function(e){return e(t,n)}));return i.memoized.apply(null,[].concat(_toConsumableArray(a),[n]))}function wt(t){return Lt((function(e){var n=e[t];return!Object(g.Y)()||t in e||console.warn('@ngrx/store: The feature name "'.concat(t,'" does ')+"not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module "+"using StoreModule.forRoot('".concat(t,"', ...) or ")+"StoreModule.forFeature('".concat(t,"', ...).  If the default ")+"state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored."),n}),(function(t){return t}))}function At(t){return void 0===t}function Et(t){return null===t}function Ft(t){return Array.isArray(t)}function It(t){return"object"==typeof t&&null!==t}function Mt(t){return"function"==typeof t}function jt(t){Object.freeze(t);var e=Mt(t);return Object.getOwnPropertyNames(t).forEach((function(n){if(function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){var i=t[n];!It(i)&&!Mt(i)||Object.isFrozen(i)||jt(i)}})),t}function Yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(At(t)||Et(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((function(n,i){if(n)return n;var r=t[i];return!(At(r)||Et(r)||function(t){return"number"==typeof t}(r)||function(t){return"boolean"==typeof t}(r)||function(t){return"string"==typeof t}(r)||Ft(r))&&(function(t){if(!function(t){return It(t)&&!Ft(t)}(t))return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(r)?Yt(r,[].concat(_toConsumableArray(e),[i])):{path:[].concat(_toConsumableArray(e),[i]),value:r})}),!1)}function Zt(t,e){if(!1!==t){var n=t.path.join("."),i=new Error("Detected unserializable ".concat(e,' at "').concat(n,'"'));throw i.value=t.value,i.unserializablePath=n,i}}function Tt(t){return Object(g.Y)()?(void 0===t&&console.warn("@ngrx/store: runtime checks are currently opt-in but will be the default in the next major version with the possibility to opt-out, see https://ngrx.io/guide/migration/v8 for more information."),Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1},t)):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1}}function Rt(t){var e=t.strictActionSerializability,n=t.strictStateSerializability;return function(t){return e||n?function(t,e){return function(n,i){e.action&&Zt(Yt(i),"action");var r=t(n,i);return e.state&&Zt(Yt(r),"state"),r}}(t,{action:e,state:n}):t}}function Nt(t){var e=t.strictActionImmutability,n=t.strictStateImmutability;return function(t){return e||n?function(t,e){return function(n,i){var r=e.action?jt(i):i,a=t(n,r);return e.state?jt(a):a}}(t,{action:e,state:n}):t}}function Dt(t){return t}var Pt,Ut,Gt,Bt=((Gt=function t(e,n,i,r,a){_classCallCheck(this,t)}).\u0275mod=g.Rb({type:Gt}),Gt.\u0275inj=g.Qb({factory:function(t){return new(t||Gt)(g.dc(j),g.dc(ot),g.dc(ft),g.dc(yt),g.dc(Z,8))}}),Gt),$t=((Ut=function(){function t(e,n,i,r){_classCallCheck(this,t),this.features=e,this.featureReducers=n,this.reducerManager=i;var a=e.map((function(t,e){var i=n.shift();return Object.assign({},t,{reducers:i[e],initialState:Qt(t.initialState)})}));i.addFeatures(a)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),t}()).\u0275mod=g.Rb({type:Ut}),Ut.\u0275inj=g.Qb({factory:function(t){return new(t||Ut)(g.dc(z),g.dc(W),g.dc(lt),g.dc(Bt))}}),Ut),Ht=((Pt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:Bt,providers:[{provide:Z,useFactory:Jt,deps:[[yt,new g.D,new g.M]]},{provide:T,useValue:n.initialState},{provide:R,useFactory:Qt,deps:[T]},{provide:U,useValue:t},{provide:B,useExisting:t instanceof g.s?t:U},{provide:P,deps:[g.t,U,[new g.q(B)]],useFactory:zt},{provide:Q,useValue:n.metaReducers?n.metaReducers:[]},{provide:J,deps:[q,Q],useFactory:qt},{provide:D,useValue:n.reducerFactory?n.reducerFactory:et},{provide:N,deps:[D,J],useFactory:it},Y,ut,dt,vt,xt,(e=n.runtimeChecks,[{provide:X,useValue:e},{provide:K,useFactory:Dt,deps:[X]},{provide:tt,deps:[K],useFactory:Tt},{provide:q,multi:!0,deps:[tt],useFactory:Nt},{provide:q,multi:!0,deps:[tt],useFactory:Rt}])]}}},{key:"forFeature",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{ngModule:$t,providers:[{provide:H,multi:!0,useValue:n},{provide:G,multi:!0,useValue:{key:t,reducerFactory:n instanceof g.s||!n.reducerFactory?et:n.reducerFactory,metaReducers:n instanceof g.s||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof g.s||!n.initialState?void 0:n.initialState}},{provide:z,deps:[g.t,H,G],useFactory:Vt},{provide:$,multi:!0,useValue:e},{provide:V,multi:!0,useExisting:e instanceof g.s?e:$},{provide:W,multi:!0,deps:[g.t,$,[new g.q(V)]],useFactory:Wt}]}}}]),t}()).\u0275mod=g.Rb({type:Pt}),Pt.\u0275inj=g.Qb({factory:function(t){return new(t||Pt)}}),Pt);function zt(t,e){return e instanceof g.s?t.get(e):e}function Vt(t,e,n){return n.map((function(n,i){if(e[i]instanceof g.s){var r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:et,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n}))}function Wt(t,e){return e.map((function(e){return e instanceof g.s?t.get(e):e}))}function Qt(t){return"function"==typeof t?t():t}function qt(t,e){return t.concat(e)}function Jt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}var Kt=n("jV/k"),Xt=n("WJAz"),te=n("XA6Z"),ee=n("oECA"),ne=n("70cc"),ie=n("WKA6"),re=n("vfyW"),ae=function t(){_classCallCheck(this,t),this.type="[MAILS] GET MAILS"},ce=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] GET MAILS SUCCESS"},oe=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] GET MAILS FAILED"},se=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] SET CURRENT MAIL"},le=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] SET CURRENT MAIL SUCCESS"},ue=function t(){_classCallCheck(this,t),this.type="[MAILS] CHECK CURRENT MAIL"},fe=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] UPDATE MAIL"},be=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] UPDATE MAIL SUCCESS"},de=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] UPDATE MAILS"},pe=function t(){_classCallCheck(this,t),this.type="[MAILS] UPDATE MAILS SUCCESS"},he=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] SET SEARCH TEXT"},me=function t(){_classCallCheck(this,t),this.type="[MAILS] SELECT ALL MAILS"},ge=function t(){_classCallCheck(this,t),this.type="[MAILS] DESELECT ALL MAILS"},ve=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] TOGGLE IN SELECTED MAILS"},ye=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] SELECT MAILS BY PARAMETER"},xe=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] SET FOLDER ON SELECTED MAILS"},_e=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[MAILS] ADD LABEL ON SELECTED MAILS"},Se=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[FOLDERS] GET FOLDERS"},ke=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[FOLDERS] GET FOLDERS SUCCESS"},Ce=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[FOLDERS] GET FOLDERS FAILED"},Le=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[FILTERS] GET FILTERS"},Oe=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[FILTERS] GET FILTERS SUCCESS"},we=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[FILTERS] GET FILTERS FAILED"},Ae=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[LABELS] GET LABELS"},Ee=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[LABELS] GET LABELS SUCCESS"},Fe=function t(e){_classCallCheck(this,t),this.payload=e,this.type="[LABELS] GET LABELS FAILED"},Ie={entities:{},currentMail:null,selectedMailIds:[],searchText:"",loading:!1,loaded:!1},Me={entities:{},loading:!1,loaded:!1},je={entities:{},loading:!1,loaded:!1},Ye={entities:{},loading:!1,loaded:!1},Ze=wt("mail-app"),Te=(Lt(Ze,(function(t){return t})),{mails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"[MAILS] GET MAILS":return Object.assign(Object.assign({},t),{loading:!0});case"[MAILS] GET MAILS SUCCESS":var n=e.payload.loaded,i=e.payload.mails.reduce((function(t,e){return Object.assign(Object.assign({},t),_defineProperty({},e.id,e))}),{});return Object.assign(Object.assign({},t),{entities:i,loading:!1,loaded:n});case"[MAILS] GET MAILS FAILED":return Object.assign(Object.assign({},t),{loading:!1,loaded:!1});case"[MAILS] SET CURRENT MAIL SUCCESS":return Object.assign(Object.assign({},t),{currentMail:e.payload});case"[MAILS] UPDATE MAIL SUCCESS":return Object.assign(Object.assign({},t),{entities:Object.assign(Object.assign({},t.entities),_defineProperty({},e.payload.id,e.payload))});case"[MAILS] SET SEARCH TEXT":return Object.assign(Object.assign({},t),{searchText:e.payload});case"[MAILS] TOGGLE IN SELECTED MAILS":var r=e.payload,a=_toConsumableArray(t.selectedMailIds);return a=void 0!==a.find((function(t){return t===r}))?a.filter((function(t){return t!==r})):[].concat(_toConsumableArray(a),[r]),Object.assign(Object.assign({},t),{selectedMailIds:a});case"[MAILS] SELECT ALL MAILS":var c=Object.keys(t.entities).map((function(e){return t.entities[e]})).map((function(t){return t.id}));return Object.assign(Object.assign({},t),{selectedMailIds:c});case"[MAILS] DESELECT ALL MAILS":return Object.assign(Object.assign({},t),{selectedMailIds:[]});case"[MAILS] SELECT MAILS BY PARAMETER":var o=e.payload,s=Object.keys(t.entities).map((function(e){return t.entities[e]})).filter((function(t){return t[o.parameter]===o.value})).map((function(t){return t.id}));return Object.assign(Object.assign({},t),{selectedMailIds:s});case"[MAILS] SET FOLDER ON SELECTED MAILS":var l=Object.assign({},t.entities);return t.selectedMailIds.map((function(t){l[t]=Object.assign(Object.assign({},l[t]),{folder:e.payload})})),Object.assign(Object.assign({},t),{entities:l});default:return t}},folders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"[FOLDERS] GET FOLDERS":return Object.assign(Object.assign({},t),{loading:!0,loaded:!1});case"[FOLDERS] GET FOLDERS SUCCESS":var n=e.payload.reduce((function(t,e){return Object.assign(Object.assign({},t),_defineProperty({},e.id,e))}),{});return Object.assign(Object.assign({},t),{loading:!1,loaded:!0,entities:n});case"[FOLDERS] GET FOLDERS FAILED":return Object.assign(Object.assign({},t),{loading:!1,loaded:!1});default:return t}},filters:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"[FILTERS] GET FILTERS":return Object.assign(Object.assign({},t),{loading:!0,loaded:!1});case"[FILTERS] GET FILTERS SUCCESS":var n=e.payload.reduce((function(t,e){return Object.assign(Object.assign({},t),_defineProperty({},e.id,e))}),{});return Object.assign(Object.assign({},t),{loading:!1,loaded:!0,entities:n});case"[FILTERS] GET FILTERS FAILED":return Object.assign(Object.assign({},t),{loading:!1,loaded:!1});default:return t}},labels:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"[LABELS] GET LABELS":return Object.assign(Object.assign({},t),{loading:!0,loaded:!1});case"[LABELS] GET LABELS SUCCESS":var n=e.payload.reduce((function(t,e){return Object.assign(Object.assign({},t),_defineProperty({},e.id,e))}),{});return Object.assign(Object.assign({},t),{loading:!1,loaded:!0,entities:n});case"[LABELS] GET LABELS FAILED":return Object.assign(Object.assign({},t),{loading:!1,loaded:!1});default:return t}}}),Re=n("/0p4"),Ne=Lt(Ze,(function(t){return t.mails})),De=Lt(Ne,(function(t){return t.entities})),Pe=Lt(Ne,(function(t){return t.loaded})),Ue=Lt(Ne,(function(t){return t.searchText})),Ge=Lt(De,Ue,(function(t,e){var n=Object.keys(t).map((function(e){return t[e]}));return Re.a.filterArrayByString(n,e)})),Be=Lt(Ne,(function(t){return t.currentMail})),$e=Lt(Ne,(function(t){return t.selectedMailIds})),He=Lt(Ze,(function(t){return t.folders})),ze=Lt(He,(function(t){return t.entities})),Ve=Lt(He,(function(t){return t.loaded})),We=Lt(ze,(function(t){return Object.keys(t).map((function(e){return t[e]}))})),Qe=Lt(Ze,(function(t){return t.filters})),qe=Lt(Qe,(function(t){return t.entities})),Je=Lt(Qe,(function(t){return t.loaded})),Ke=Lt(qe,(function(t){return Object.keys(t).map((function(e){return t[e]}))})),Xe=Lt(Ze,(function(t){return t.labels})),tn=Lt(Xe,(function(t){return t.entities})),en=Lt(Xe,(function(t){return t.loaded})),nn=Lt(tn,(function(t){return Object.keys(t).map((function(e){return t[e]}))})),rn=n("bb6g"),an=n("ERl3"),cn=(n("YMV5"),n("wsoD")),on=n("OX4D"),sn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ln(t))}}]),t}(),ln=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_next",value:function(t){}}]),n}(on.a),un=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new fn(t))}}]),t}(),fn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"_next",value:function(t){this.destination.next(cn.a.createNext(t))}},{key:"_error",value:function(t){var e=this.destination;e.next(cn.a.createError(t)),e.complete()}},{key:"_complete",value:function(){var t=this.destination;t.next(cn.a.createComplete()),t.complete()}}]),n}(on.a),bn=n("ry98");function dn(t,e,n,i){return function(r){return r.lift(new pn(t,e,n,i))}}var pn=function(){function t(e,n,i,r){_classCallCheck(this,t),this.keySelector=e,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new hn(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),t}(),hn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,c){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.elementSelector=r,o.durationSelector=a,o.subjectSelector=c,o.groups=null,o.attemptedToUnsubscribe=!1,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}},{key:"_group",value:function(t,e){var n=this.groups;n||(n=this.groups=new Map);var i,r=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(o){this.error(o)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new x.a,n.set(e,r);var a=new gn(e,r,this);if(this.destination.next(a),this.durationSelector){var c;try{c=this.durationSelector(new gn(e,r))}catch(o){return void this.error(o)}this.add(c.subscribe(new mn(e,r,this)))}}r.closed||r.next(i)}},{key:"_error",value:function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)}},{key:"_complete",value:function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()}},{key:"removeGroup",value:function(t){this.groups.delete(t)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}}]),n}(on.a),mn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,i)).key=t,a.group=i,a.parent=r,a}return _createClass(n,[{key:"_next",value:function(t){this.complete()}},{key:"_unsubscribe",value:function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)}}]),n}(on.a),gn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this)).key=t,a.groupSubject=i,a.refCountSubscription=r,a}return _createClass(n,[{key:"_subscribe",value:function(t){var e=new bn.a,n=this.refCountSubscription,i=this.groupSubject;return n&&!n.closed&&e.add(new vn(n)),e.add(i.subscribe(t)),e}}]),n}(y.a),vn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).parent=t,t.count++,i}return _createClass(n,[{key:"unsubscribe",value:function(){var t=this.parent;t.closed||this.closed||(_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}]),n}(bn.a),yn=n("unWr"),xn=n("UCL4"),_n=n("HbWZ");function Sn(t,e){return e?function(n){return n.pipe(Sn((function(n,i){return Object(_n.a)(t(n,i)).pipe(Object(F.a)((function(t,r){return e(n,t,i,r)})))})))}:function(e){return e.lift(new kn(t))}}var kn=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Cn(t,this.project))}}]),t}(),Cn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).project=i,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){this.hasSubscription||this.tryNext(t)}},{key:"tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new xn.a(this,e,n),r=this.destination;r.add(i);var a=Object(C.a)(this,t,void 0,void 0,i);a!==i&&r.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(k.a),Ln=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new On(t))}}]),t}(),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"_next",value:function(t){t.observe(this.destination)}}]),n}(on.a);n("oMzo"),n("DFrw");var wn={dispatch:!0,resubscribeOnError:!0};function An(t){return Object.getOwnPropertyNames(t).filter((function(e){return t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")})).map((function(e){return Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"])}))}function En(t){return Object.getPrototypeOf(t)}function Fn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,n){var i,r;i=e,r=Object.assign({},wn,t,{propertyName:n}),Mn(i)?i.constructor["__@ngrx/effects__"].push(r):Object.defineProperty(i.constructor,"__@ngrx/effects__",{value:[r]})}}function In(t){return nt(jn,En)(t)}function Mn(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}function jn(t){return Mn(t)?t.constructor["__@ngrx/effects__"]:[]}var Yn,Zn=((Yn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),i=e.call(this),t&&(i.source=t),i}return _createClass(n,[{key:"lift",value:function(t){var e=new n;return e.source=this,e.operator=t,e}}]),n}(y.a)).\u0275fac=function(t){return new(t||Yn)(g.dc(ft))},Yn.\u0275prov=g.Pb({token:Yn,factory:Yn.\u0275fac}),Yn);function Tn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(ne.a)((function(t){return e.some((function(e){return"string"==typeof e?e===t.type:e.type===t.type}))}))}var Rn,Nn=((Rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).errorHandler=t,r.store=i,r}return _createClass(n,[{key:"addEffects",value:function(t){this.next(t),"ngrxOnInitEffects"in t&&"function"==typeof t.ngrxOnInitEffects&&this.store.dispatch(t.ngrxOnInitEffects())}},{key:"toActions",value:function(){var t=this;return this.pipe(dn(En),Object(yn.a)((function(t){return t.pipe(dn(Dn))})),Object(yn.a)((function(e){return e.pipe(Sn((n=t.errorHandler,function(t){var e=function(t,e){var n,i=En(t).constructor.name,r=(n=t,[In,An].reduce((function(t,e){return t.concat(e(n))}),[])).map((function(n){var r=n.propertyName,a=n.dispatch,c=n.resubscribeOnError,o="function"==typeof t[r]?t[r]():t[r],s=c?function t(e,n){return e.pipe(Object(ee.a)((function(i){return n&&n.handleError(i),t(e,n)})))}(o,e):o;return!1===a?s.pipe((function(t){return t.lift(new sn)})):s.pipe((function(t){return t.lift(new un)})).pipe(Object(F.a)((function(e){return{effect:t[r],notification:e,propertyName:r,sourceName:i,sourceInstance:t}})))}));return Object(an.a).apply(void 0,_toConsumableArray(r))}(t,n);return function(t){var e=En(t);return"ngrxOnRunEffects"in e&&"function"==typeof e.ngrxOnRunEffects}(t)?t.ngrxOnRunEffects(e):e})),Object(F.a)((function(e){return function(t,e){if("N"===t.notification.kind){var n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error("Effect ".concat((i=t,r=i.propertyName,a=i.sourceInstance,c=i.sourceName,o="function"==typeof a[r],'"'.concat(c,".").concat(String(r)).concat(o?"()":"",'"'))," dispatched an invalid action: ").concat(function(t){try{return JSON.stringify(t)}catch(e){return t}}(n))))}var i,r,a,c,o}(e,t.errorHandler),e.notification})),Object(ne.a)((function(t){return"N"===t.kind})),(function(t){return t.lift(new Ln)}));var n})))}}]),n}(x.a)).\u0275fac=function(t){return new(t||Rn)(g.dc(g.n),g.dc(yt))},Rn.\u0275prov=g.Pb({token:Rn,factory:Rn.\u0275fac}),Rn);function Dn(t){return"ngrxOnIdentifyEffects"in t&&"function"==typeof t.ngrxOnIdentifyEffects?t.ngrxOnIdentifyEffects():""}var Pn,Un,Gn,Bn,$n=new g.s("@ngrx/effects Internal Root Guard"),Hn=new g.s("ngrx/effects: Root Effects"),zn=new g.s("ngrx/effects: Feature Effects"),Vn=((Bn=function(){function t(e,n){_classCallCheck(this,t),this.effectSources=e,this.store=n,this.effectsSubscription=null}return _createClass(t,[{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||Bn)(g.dc(Nn),g.dc(yt))},Bn.\u0275prov=g.Pb({token:Bn,factory:Bn.\u0275fac}),Bn),Wn=((Gn=function(){function t(e,n,i,r,a,c,o){_classCallCheck(this,t),this.sources=e,n.start(),r.forEach((function(t){return e.addEffects(t)})),i.dispatch({type:"@ngrx/effects/init"})}return _createClass(t,[{key:"addEffects",value:function(t){this.sources.addEffects(t)}}]),t}()).\u0275mod=g.Rb({type:Gn}),Gn.\u0275inj=g.Qb({factory:function(t){return new(t||Gn)(g.dc(Nn),g.dc(Vn),g.dc(yt),g.dc(Hn),g.dc(Bt,8),g.dc($t,8),g.dc($n,8))}}),Gn),Qn=((Un=function t(e,n,i,r){_classCallCheck(this,t),n.forEach((function(t){return t.forEach((function(t){return e.addEffects(t)}))}))}).\u0275mod=g.Rb({type:Un}),Un.\u0275inj=g.Qb({factory:function(t){return new(t||Un)(g.dc(Wn),g.dc(zn),g.dc(Bt,8),g.dc($t,8))}}),Un),qn=((Pn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forFeature",value:function(t){return{ngModule:Qn,providers:[t,{provide:zn,multi:!0,deps:t,useFactory:Jn}]}}},{key:"forRoot",value:function(t){return{ngModule:Wn,providers:[{provide:$n,useFactory:Kn,deps:[[Vn,new g.D,new g.M]]},Vn,Nn,Zn,t,{provide:Hn,deps:t,useFactory:Jn}]}}}]),t}()).\u0275mod=g.Rb({type:Pn}),Pn.\u0275inj=g.Qb({factory:function(t){return new(t||Pn)}}),Pn);function Jn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function Kn(t){if(t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Xn,ti,ei,ni,ii,ri,ai,ci,oi=n("+3x0"),si=wt("routerReducer"),li=n("FBrc"),ui=((Xn=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._httpClient=e,this._store=n,this._store.pipe(_t(We)).subscribe((function(t){i.foldersArr=t})),this._store.pipe(_t(Ke)).subscribe((function(t){i.filtersArr=t})),this._store.pipe(_t(nn)).subscribe((function(t){i.labelsArr=t})),this._store.pipe(_t(Ge)).subscribe((function(t){i.mails=t})),this.selectedMails=[]}return _createClass(t,[{key:"getAllMails",value:function(){return this._httpClient.get("api/mail-mails")}},{key:"getFolders",value:function(){return this._httpClient.get("api/mail-folders")}},{key:"getFilters",value:function(){return this._httpClient.get("api/mail-filters")}},{key:"getLabels",value:function(){return this._httpClient.get("api/mail-labels")}},{key:"getMails",value:function(t){if("labelHandle"===t.id){var e=this.labelsArr.find((function(e){return e.handle===t.value})).id;return this._httpClient.get("api/mail-mails?labels="+e)}if("filterHandle"===t.id)return this._httpClient.get("api/mail-mails?"+t.value+"=true");var n=this.foldersArr.find((function(e){return e.handle===t.value})).id;return this._httpClient.get("api/mail-mails?folder="+n)}},{key:"updateMail",value:function(t){return this._httpClient.post("api/mail-mails/"+t.id,Object.assign({},t))}}]),t}()).\u0275fac=function(t){return new(t||Xn)(g.dc(li.c),g.dc(yt))},Xn.\u0275prov=g.Pb({token:Xn,factory:Xn.\u0275fac}),Xn),fi=[(ii=function t(e,n,i){var r=this;_classCallCheck(this,t),this.actions=e,this.mailService=n,this.store=i,this.getMails=this.actions.pipe(Tn("[MAILS] GET MAILS"),Sn((function(t){var e={id:"",value:""};return Object(Kt.a)("labelHandle","filterHandle","folderHandle").subscribe((function(t){r.routerState.params[t]&&(e={id:t,value:r.routerState.params[t]})})),r.mailService.getMails(e).pipe(Object(F.a)((function(t){return new ce({loaded:e,mails:t})})),Object(ee.a)((function(t){return Object(Kt.a)(new oe(t))})))}))),this.updateMail=this.actions.pipe(Tn("[MAILS] UPDATE MAIL"),Sn((function(t){return r.mailService.updateMail(t.payload).pipe(Object(F.a)((function(){return new be(t.payload)})))}))),this.updateMails=this.actions.pipe(Tn("[MAILS] UPDATE MAILS"),Sn((function(t){return Object(Xt.a)(t.payload.map((function(t){return r.mailService.updateMail(t)}))).pipe(Object(F.a)((function(){return new pe})))}))),this.setCurrentMail=this.actions.pipe(Tn("[MAILS] SET CURRENT MAIL"),L(this.store.pipe(_t(Ne))),Object(F.a)((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1];return new le(i.entities[n.payload])}))),this.checkCurrentMail=this.actions.pipe(Tn("[MAILS] CHECK CURRENT MAIL"),L(this.store.pipe(_t(Ne))),Object(F.a)((function(t){var e=_slicedToArray(t,2),n=(e[0],e[1]);return new le(n.entities[r.routerState.params.mailId])}))),this.getMailsSuccess=this.actions.pipe(Tn("[MAILS] GET MAILS SUCCESS"),Object(yn.a)((function(){return[new ue]}))),this.updateMailsSuccess=this.actions.pipe(Tn("[MAILS] UPDATE MAILS SUCCESS"),Object(yn.a)((function(){return[new ge,new ae]}))),this.updateMailSuccess=this.actions.pipe(Tn("[MAILS] UPDATE MAIL SUCCESS"),Object(oi.a)(500),Object(F.a)((function(){return new ae}))),this.setFolderOnSelectedMails=this.actions.pipe(Tn("[MAILS] SET FOLDER ON SELECTED MAILS"),L(this.store.pipe(_t(Ne))),Object(F.a)((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1],r=Object.assign({},i.entities),a=[];return i.selectedMailIds.map((function(t){a=[].concat(_toConsumableArray(a),[r[t]=Object.assign(Object.assign({},r[t]),{folder:n.payload})])})),new de(a)}))),this.addLabelOnSelectedMails=this.actions.pipe(Tn("[MAILS] ADD LABEL ON SELECTED MAILS"),L(this.store.pipe(_t(Ne))),Object(F.a)((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1],r=Object.assign({},i.entities),a=[];return i.selectedMailIds.map((function(t){var e=_toConsumableArray(r[t].labels);r[t].labels.includes(n.payload)||(e=[].concat(_toConsumableArray(e),[n.payload])),a=[].concat(_toConsumableArray(a),[r[t]=Object.assign(Object.assign({},r[t]),{labels:e})])})),new de(a)}))),this.store.pipe(_t(si)).subscribe((function(t){t&&(r.routerState=t.state)}))},ii.\u0275fac=function(t){return new(t||ii)(g.dc(Zn),g.dc(ui),g.dc(yt))},ii.\u0275prov=g.Pb({token:ii,factory:ii.\u0275fac}),Object(rn.b)([Fn()],ii.prototype,"getMails",void 0),Object(rn.b)([Fn()],ii.prototype,"updateMail",void 0),Object(rn.b)([Fn()],ii.prototype,"updateMails",void 0),Object(rn.b)([Fn()],ii.prototype,"setCurrentMail",void 0),Object(rn.b)([Fn()],ii.prototype,"checkCurrentMail",void 0),Object(rn.b)([Fn()],ii.prototype,"getMailsSuccess",void 0),Object(rn.b)([Fn()],ii.prototype,"updateMailsSuccess",void 0),Object(rn.b)([Fn()],ii.prototype,"updateMailSuccess",void 0),Object(rn.b)([Fn()],ii.prototype,"setFolderOnSelectedMails",void 0),Object(rn.b)([Fn()],ii.prototype,"addLabelOnSelectedMails",void 0),ii),(ni=function t(e,n){var i=this;_classCallCheck(this,t),this.actions=e,this.mailService=n,this.getFolders=this.actions.pipe(Tn("[FOLDERS] GET FOLDERS"),Object(te.a)((function(t){return i.mailService.getFolders().pipe(Object(F.a)((function(t){return new ke(t)})),Object(ee.a)((function(t){return Object(Kt.a)(new Ce(t))})))})))},ni.\u0275fac=function(t){return new(t||ni)(g.dc(Zn),g.dc(ui))},ni.\u0275prov=g.Pb({token:ni,factory:ni.\u0275fac}),Object(rn.b)([Fn()],ni.prototype,"getFolders",void 0),ni),(ei=function t(e,n){var i=this;_classCallCheck(this,t),this.actions=e,this.mailService=n,this.getFilters=this.actions.pipe(Tn("[FILTERS] GET FILTERS"),Object(te.a)((function(t){return i.mailService.getFilters().pipe(Object(F.a)((function(t){return new Oe(t)})),Object(ee.a)((function(t){return Object(Kt.a)(new we(t))})))})))},ei.\u0275fac=function(t){return new(t||ei)(g.dc(Zn),g.dc(ui))},ei.\u0275prov=g.Pb({token:ei,factory:ei.\u0275fac}),Object(rn.b)([Fn()],ei.prototype,"getFilters",void 0),ei),(ti=function t(e,n){var i=this;_classCallCheck(this,t),this.actions=e,this.mailService=n,this.getLabels=this.actions.pipe(Tn("[LABELS] GET LABELS"),Object(te.a)((function(t){return i.mailService.getLabels().pipe(Object(F.a)((function(t){return new Ee(t)})),Object(ee.a)((function(t){return Object(Kt.a)(new Fe(t))})))})))},ti.\u0275fac=function(t){return new(t||ti)(g.dc(Zn),g.dc(ui))},ti.\u0275prov=g.Pb({token:ti,factory:ti.\u0275fac}),Object(rn.b)([Fn()],ti.prototype,"getLabels",void 0),ti)],bi=((ai=function(){function t(e){var n=this;_classCallCheck(this,t),this._store=e,this._store.pipe(_t(si)).subscribe((function(t){t&&(n.routerState=t.state)}))}return _createClass(t,[{key:"canActivate",value:function(t,e){return this.checkStore().pipe(Object(te.a)((function(){return Object(Kt.a)(!0)})),Object(ee.a)((function(){return Object(Kt.a)(!1)})))}},{key:"checkStore",value:function(){var t=this;return Object(Xt.a)(this.getFolders(),this.getFilters(),this.getLabels()).pipe(Object(ne.a)((function(t){var e=_slicedToArray(t,3),n=e[0],i=e[1],r=e[2];return!!(n&&i&&r)})),Object(ie.a)(1),Object(te.a)((function(){return t.getMails()})),Object(ie.a)(1),Object(F.a)((function(){return t._store.dispatch(new se(t.routerState.params.mailId))})))}},{key:"getFolders",value:function(){var t=this;return this._store.pipe(_t(Ve),Object(re.a)((function(e){e||t._store.dispatch(new Se([]))})),Object(ne.a)((function(t){return t})),Object(ie.a)(1))}},{key:"getFilters",value:function(){var t=this;return this._store.pipe(_t(Je),Object(re.a)((function(e){e||t._store.dispatch(new Le([]))})),Object(ne.a)((function(t){return t})),Object(ie.a)(1))}},{key:"getLabels",value:function(){var t=this;return this._store.pipe(_t(en),Object(re.a)((function(e){e||t._store.dispatch(new Ae([]))})),Object(ne.a)((function(t){return t})),Object(ie.a)(1))}},{key:"getMails",value:function(){var t=this;return this._store.pipe(_t(Pe),Object(re.a)((function(e){t.routerState.params[e.id]&&t.routerState.params[e.id]===e.value||(t._store.dispatch(new ae),t._store.dispatch(new he("")),t._store.dispatch(new ge))})),Object(ne.a)((function(e){return t.routerState.params[e.id]&&t.routerState.params[e.id]===e.value})),Object(ie.a)(1))}}]),t}()).\u0275fac=function(t){return new(t||ai)(g.dc(yt))},ai.\u0275prov=g.Pb({token:ai,factory:ai.\u0275fac}),ai),di=((ri=function t(){_classCallCheck(this,t)}).\u0275mod=g.Rb({type:ri}),ri.\u0275inj=g.Qb({factory:function(t){return new(t||ri)},providers:[],imports:[[Ht.forFeature("mail-app",Te),qn.forFeature(fi)]]}),ri),pi=n("8VHZ"),hi={lang:"en",data:{MAIL:{COMPOSE:"COMPOSE",FOLDERS:"FOLDERS",FILTERS:"FILTERS",LABELS:"LABELS",NO_MESSAGES:"There are no messages!",SELECT_A_MESSAGE_TO_READ:"Select a message to read",SEARCH_PLACEHOLDER:"Search for an e-mail or contact"}}},mi={lang:"tr",data:{MAIL:{COMPOSE:"YEN\u0130 E-POSTA",FOLDERS:"KLAS\xd6RLER",FILTERS:"F\u0130LTRELER",LABELS:"ET\u0130KETLER",NO_MESSAGES:"Mesajiniz bulunmamakta!",SELECT_A_MESSAGE_TO_READ:"Okumak i\xe7in bir mesaj se\xe7in",SEARCH_PLACEHOLDER:"E-mail yada bir ki\u015fi aray\u0131n"}}},gi=n("0u4M"),vi=n("ZYkU"),yi=n("FpsG"),xi=n("RONT"),_i=n("qQg5"),Si=n("FBYz"),ki=((ci=function(){function t(e,n,i){_classCallCheck(this,t),this.matDialogRef=e,this._data=n,this._formBuilder=i,this.composeForm=this.createComposeForm()}return _createClass(t,[{key:"createComposeForm",value:function(){return this._formBuilder.group({from:{value:["johndoe@creapond.com"],disabled:[!0]},to:[""],cc:[""],bcc:[""],subject:[""],message:[""]})}}]),t}()).\u0275fac=function(t){return new(t||ci)(g.Tb(o.f),g.Tb(o.a),g.Tb(pi.c))},ci.\u0275cmp=g.Nb({type:ci,selectors:[["mail-ngrx-compose"]],decls:64,vars:2,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","m-0"],["name","composeForm","fxLayout","column","fxFlex","",1,"compose-form",3,"formGroup"],["appearance","outline"],["matInput","","name","from","formControlName","from","type","email"],["matInput","","name","to","formControlName","to","type","email","required",""],["matInput","","name","cc","formControlName","cc","type","email"],["matInput","","name","bcc","formControlName","bcc","type","email"],["matInput","","name","subject","formControlName","subject"],["matInput","","name","message","formControlName","message","rows","6"],[1,"attachment-list"],["fxLayout","row","fxLayoutAlign","space-between center",1,"attachment"],[1,"filename"],[1,"size","ml-4"],["mat-icon-button","","aria-label","Delete attachment"],[1,"s-16"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-between center",1,"m-0","p-16"],["mat-raised-button","","color","accent","aria-label","SAVE",1,"save-button",3,"disabled","click"],["mat-icon-button","","matTooltip","Attach a file"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"mat-toolbar",1),g.Zb(2,"mat-toolbar-row",2),g.Zb(3,"span",3),g.Nc(4,"New Message"),g.Yb(),g.Zb(5,"button",4),g.hc("click",(function(t){return e.matDialogRef.close()})),g.Zb(6,"mat-icon"),g.Nc(7,"close"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(8,"div",5),g.Zb(9,"form",6),g.Zb(10,"mat-form-field",7),g.Zb(11,"mat-label"),g.Nc(12,"From"),g.Yb(),g.Ub(13,"input",8),g.Yb(),g.Zb(14,"mat-form-field",7),g.Zb(15,"mat-label"),g.Nc(16,"To"),g.Yb(),g.Ub(17,"input",9),g.Yb(),g.Zb(18,"mat-form-field",7),g.Zb(19,"mat-label"),g.Nc(20,"Cc"),g.Yb(),g.Ub(21,"input",10),g.Yb(),g.Zb(22,"mat-form-field",7),g.Zb(23,"mat-label"),g.Nc(24,"Bcc"),g.Yb(),g.Ub(25,"input",11),g.Yb(),g.Zb(26,"mat-form-field",7),g.Zb(27,"mat-label"),g.Nc(28,"Subject"),g.Yb(),g.Ub(29,"input",12),g.Yb(),g.Zb(30,"mat-form-field",7),g.Zb(31,"mat-label"),g.Nc(32,"Message"),g.Yb(),g.Zb(33,"textarea",13),g.Nc(34,"                "),g.Yb(),g.Yb(),g.Zb(35,"div",14),g.Zb(36,"div",15),g.Zb(37,"div"),g.Zb(38,"span",16),g.Nc(39,"attachment-2.doc"),g.Yb(),g.Zb(40,"span",17),g.Nc(41,"(12 Kb)"),g.Yb(),g.Yb(),g.Zb(42,"button",18),g.Zb(43,"mat-icon",19),g.Nc(44,"close"),g.Yb(),g.Yb(),g.Yb(),g.Zb(45,"div",15),g.Zb(46,"div"),g.Zb(47,"span",16),g.Nc(48,"attachment-1.jpg"),g.Yb(),g.Zb(49,"span",17),g.Nc(50,"(350 Kb)"),g.Yb(),g.Yb(),g.Zb(51,"button",18),g.Zb(52,"mat-icon",19),g.Nc(53,"close"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(54,"div",20),g.Zb(55,"div"),g.Zb(56,"button",21),g.hc("click",(function(t){return e.matDialogRef.close(["send",e.composeForm])})),g.Nc(57," SEND "),g.Yb(),g.Zb(58,"button",22),g.Zb(59,"mat-icon"),g.Nc(60,"attach_file"),g.Yb(),g.Yb(),g.Yb(),g.Zb(61,"button",23),g.hc("click",(function(t){return e.matDialogRef.close(["delete",e.composeForm])})),g.Zb(62,"mat-icon"),g.Nc(63,"delete"),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Fb(9),g.sc("formGroup",e.composeForm),g.Fb(47),g.sc("disabled",e.composeForm.invalid))},directives:[d.a,d.c,_i.a,_i.c,_i.b,r.b,l.a,o.d,Si.a,pi.w,pi.p,pi.h,s.b,s.f,u.b,pi.b,pi.o,pi.f,pi.u,o.c],styles:[".mail-ngrx-compose-dialog .mat-dialog-container{padding:0;width:720px}.mail-ngrx-compose-dialog .mat-dialog-container .compose-form .mat-form-field{width:100%}.mail-ngrx-compose-dialog .mat-dialog-container .compose-form .attachment-list{font-size:13px}.mail-ngrx-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment{border:1px solid;border-radius:20px;padding-left:16px;margin-top:8px}.mail-ngrx-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment .filename{font-weight:600}.mail-ngrx-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment:last-child{margin-bottom:0}.mail-ngrx-compose-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"],encapsulation:2}),ci),Ci=n("Yvf7"),Li=n("mcTK"),Oi=n("Bqte");function wi(t,e){if(1&t&&(g.Zb(0,"mat-option",15),g.Nc(1),g.Yb()),2&t){var n=e.$implicit;g.sc("value",n.key),g.Fb(1),g.Pc(" ",n.value," ")}}function Ai(t,e){if(1&t&&(g.Zb(0,"mat-icon",19),g.Nc(1),g.Yb()),2&t){var n=g.lc().$implicit;g.Fb(1),g.Oc(n.icon)}}var Ei=function(){return["active","accent"]};function Fi(t,e){if(1&t&&(g.Zb(0,"div",16),g.Zb(1,"a",17),g.Lc(2,Ai,2,1,"mat-icon",18),g.Zb(3,"span"),g.Nc(4),g.Yb(),g.Yb(),g.Yb()),2&t){var n=e.$implicit;g.Fb(1),g.sc("routerLink","/apps/mail-ngrx/"+n.handle)("routerLinkActive",g.uc(4,Ei)),g.Fb(1),g.sc("ngIf",n.icon),g.Fb(2),g.Oc(n.title)}}function Ii(t,e){if(1&t&&(g.Zb(0,"mat-icon",21),g.Nc(1),g.Yb()),2&t){var n=g.lc().$implicit;g.sc("ngClass",n.color),g.Fb(1),g.Oc(n.icon)}}function Mi(t,e){if(1&t&&(g.Zb(0,"div",16),g.Zb(1,"a",17),g.Lc(2,Ii,2,2,"mat-icon",20),g.Zb(3,"span"),g.Nc(4),g.Yb(),g.Yb(),g.Yb()),2&t){var n=e.$implicit;g.Fb(1),g.sc("routerLink","/apps/mail-ngrx/filter/"+n.handle)("routerLinkActive",g.uc(4,Ei)),g.Fb(1),g.sc("ngIf",n.icon),g.Fb(2),g.Oc(n.title)}}var ji=function(t){return{color:t}};function Yi(t,e){if(1&t&&(g.Zb(0,"div",16),g.Zb(1,"a",17),g.Zb(2,"mat-icon",22),g.Nc(3,"label"),g.Yb(),g.Zb(4,"span"),g.Nc(5),g.Yb(),g.Yb(),g.Yb()),2&t){var n=e.$implicit;g.Fb(1),g.sc("routerLink","/apps/mail-ngrx/label/"+n.handle)("routerLinkActive",g.uc(4,Ei)),g.Fb(1),g.sc("ngStyle",g.vc(5,ji,n.color)),g.Fb(3),g.Oc(n.title)}}var Zi,Ti=((Zi=function(){function t(e,n,i){_classCallCheck(this,t),this._mailNgrxService=e,this._matDialog=n,this._store=i,this.accounts={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"},this.selectedAccount="creapond",this.folders$=this._store.pipe(_t(We)),this.filters$=this._store.pipe(_t(Ke)),this.labels$=this._store.pipe(_t(nn))}return _createClass(t,[{key:"composeDialog",value:function(){this.dialogRef=this._matDialog.open(ki,{panelClass:"mail-ngrx-compose-dialog"}),this.dialogRef.afterClosed().subscribe((function(t){if(t){var e=t[1];switch(t[0]){case"send":console.log("new Mail",e.getRawValue());break;case"delete":console.log("delete Mail")}}}))}}]),t}()).\u0275fac=function(t){return new(t||Zi)(g.Tb(ui),g.Tb(o.b),g.Tb(yt))},Zi.\u0275cmp=g.Nb({type:Zi,selectors:[["mail-ngrx-main-sidebar"]],decls:34,vars:25,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"header","accent","p-24","pb-4"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","s-32"],[1,"logo-text"],["fxLayout","column",1,"account"],[1,"title"],["floatLabel","never"],["placeholder","Mail Selection",1,"account-selection",3,"ngModel"],[3,"value",4,"ngFor","ngForOf"],["fusePerfectScrollbar","",1,"content"],[1,"px-24","pt-32","pb-12"],["mat-raised-button","","aria-label","Compose",1,"mat-accent","compose-dialog-button","w-100-p",3,"click"],[1,"nav","material2"],[1,"nav-subheader"],["class","nav-item",4,"ngFor","ngForOf"],[3,"value"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"routerLink","routerLinkActive"],["class","nav-link-icon",4,"ngIf"],[1,"nav-link-icon"],["class","nav-link-icon",3,"ngClass",4,"ngIf"],[1,"nav-link-icon",3,"ngClass"],[1,"nav-link-icon",3,"ngStyle"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"mat-icon",2),g.Nc(3,"mail"),g.Yb(),g.Zb(4,"span",3),g.Nc(5,"MailboxNgrx"),g.Yb(),g.Yb(),g.Zb(6,"div",4),g.Zb(7,"div",5),g.Nc(8,"John Doe"),g.Yb(),g.Zb(9,"mat-form-field",6),g.Zb(10,"mat-select",7),g.Lc(11,wi,2,2,"mat-option",8),g.mc(12,"keys"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(13,"div",9),g.Zb(14,"div",10),g.Zb(15,"button",11),g.hc("click",(function(t){return e.composeDialog()})),g.Nc(16),g.mc(17,"translate"),g.Yb(),g.Yb(),g.Zb(18,"div",12),g.Zb(19,"div",13),g.Nc(20),g.mc(21,"translate"),g.Yb(),g.Lc(22,Fi,5,5,"div",14),g.mc(23,"async"),g.Zb(24,"div",13),g.Nc(25),g.mc(26,"translate"),g.Yb(),g.Lc(27,Mi,5,5,"div",14),g.mc(28,"async"),g.Zb(29,"div",13),g.Nc(30),g.mc(31,"translate"),g.Yb(),g.Lc(32,Yi,6,7,"div",14),g.mc(33,"async"),g.Yb(),g.Yb()),2&t&&(g.Fb(10),g.sc("ngModel",e.selectedAccount),g.Fb(1),g.sc("ngForOf",g.nc(12,9,e.accounts)),g.Fb(5),g.Pc(" ",g.nc(17,11,"MAIL.COMPOSE")," "),g.Fb(4),g.Oc(g.nc(21,13,"MAIL.FOLDERS")),g.Fb(2),g.sc("ngForOf",g.nc(23,15,e.folders$)),g.Fb(3),g.Oc(g.nc(26,17,"MAIL.FILTERS")),g.Fb(2),g.sc("ngForOf",g.nc(28,19,e.filters$)),g.Fb(3),g.Oc(g.nc(31,21,"MAIL.LABELS")),g.Fb(2),g.sc("ngForOf",g.nc(33,23,e.labels$)))},directives:[_i.c,_i.b,_i.a,l.a,s.b,b.a,pi.o,pi.r,Ci.s,Si.a,r.b,c.n,i.j,c.r,i.i,Ci.t,Ci.q,Li.a,Ci.w,Li.c],pipes:[Oi.a,p.c,Ci.b],styles:["mail-ngrx-main-sidebar{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}mail-ngrx-main-sidebar .header .logo .logo-icon{margin:0 16px 0 0}mail-ngrx-main-sidebar .header .logo .logo-text{font-size:24px;line-height:24px}mail-ngrx-main-sidebar .header .account{width:100%}"],encapsulation:2,changeDetection:0}),Zi),Ri=function(){function t(e){_classCallCheck(this,t),this.id=e.id,this.from=e.from,this.to=e.to,this.subject=e.subject,this.message=e.message,this.time=e.time,this.read=e.read,this.starred=e.starred,this.important=e.important,this.hasAttachments=e.hasAttachments,this.attachments=e.attachments,this.labels=e.labels,this.folder=e.folder}return _createClass(t,[{key:"toggleStar",value:function(){this.starred=!this.starred}},{key:"toggleImportant",value:function(){this.important=!this.important}},{key:"markRead",value:function(){this.read=!0}},{key:"markUnread",value:function(){this.read=!1}}]),t}(),Ni=n("Adbh"),Di=n("tUf/");function Pi(t,e){if(1&t&&g.Ub(0,"img",16),2&t){var n=g.lc();g.tc("alt",null==n.mail.from?null:n.mail.from.name),g.tc("src",null==n.mail.from?null:n.mail.from.avatar,g.Fc)}}function Ui(t,e){if(1&t&&(g.Zb(0,"div",17),g.Nc(1),g.Yb()),2&t){var n=g.lc();g.Fb(1),g.Oc(null==n.mail.from?null:n.mail.from.name[0])}}function Gi(t,e){if(1&t&&(g.Zb(0,"span",18),g.Nc(1),g.Yb()),2&t){var n=g.lc();g.Fb(1),g.Oc(null==n.mail.from?null:n.mail.from.name)}}function Bi(t,e){1&t&&(g.Zb(0,"mat-icon",19),g.Nc(1,"attachment"),g.Yb())}function $i(t,e){if(1&t&&(g.Zb(0,"div",20),g.Nc(1),g.mc(2,"slice"),g.mc(3,"htmlToPlaintext"),g.Yb()),2&t){var n=g.lc();g.Fb(1),g.Qc(" ",g.pc(2,2,g.nc(3,6,n.mail.message),0,180),"",n.mail.message.length>180?"...":""," ")}}var Hi=function(t){return{"background-color":t}};function zi(t,e){if(1&t&&(g.Zb(0,"div",21),g.Ub(1,"div",22),g.mc(2,"getById"),g.mc(3,"async"),g.Zb(4,"div",23),g.Nc(5),g.mc(6,"getById"),g.mc(7,"async"),g.Yb(),g.Yb()),2&t){var n=e.$implicit,i=g.lc();g.Fb(1),g.sc("ngStyle",g.vc(14,Hi,g.pc(2,2,g.nc(3,6,i.labels$),n,"color"))),g.Fb(4),g.Oc(g.pc(6,8,g.nc(7,12,i.labels$),n,"title"))}}var Vi,Wi=((Vi=function(){function t(e,n,i){_classCallCheck(this,t),this._changeDetectorRef=e,this._mailNgrxService=n,this._store=i,this.labels$=this._store.pipe(_t(nn)),this.selectedMailIds$=this._store.pipe(_t($e)),this.selected=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.mail=new Ri(this.mail),this.unread=!this.mail.read,this.selectedMailIds$.subscribe((function(e){t.selected=e.length>0&&void 0!==e.find((function(e){return e===t.mail.id})),t.refresh()}))}},{key:"refresh",value:function(){this._changeDetectorRef.markForCheck()}},{key:"onSelectedChange",value:function(){this._store.dispatch(new ve(this.mail.id))}}]),t}()).\u0275fac=function(t){return new(t||Vi)(g.Tb(g.h),g.Tb(ui),g.Tb(yt))},Vi.\u0275cmp=g.Nb({type:Vi,selectors:[["mail-ngrx-list-item"]],hostVars:4,hostBindings:function(t,e){2&t&&g.Jb("selected",e.selected)("unread",e.unread)},inputs:{mail:"mail"},decls:19,vars:9,consts:[["fxLayout","row","fxLayoutAlign","start center"],[3,"checked","change","click"],["fxFlex","","FlexLayout","column",1,"info"],["fxLayout","row","fxLayoutAlign","start center",1,"row-1"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"name"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar accent",4,"ngIf"],["class","text-truncate",4,"ngIf"],["class","s-16 ml-8",4,"ngIf"],[1,"time"],["fxLayout","row","fxLayoutAlign","start center",1,"row-2"],["fxLayout","column","fxLayoutAlign","start start"],[1,"subject","text-truncate"],["class","message text-truncate",4,"ngIf"],["fxLayout","row wrap","fxHide","","fxShow.gt-sm","",1,"labels"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],[1,"avatar",3,"alt","src"],[1,"avatar","accent"],[1,"text-truncate"],[1,"s-16","ml-8"],[1,"message","text-truncate"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"mat-checkbox",1),g.hc("change",(function(t){return e.onSelectedChange()}))("click",(function(t){return t.stopPropagation()})),g.Yb(),g.Zb(2,"div",2),g.Zb(3,"div",3),g.Zb(4,"div",4),g.Lc(5,Pi,1,2,"img",5),g.Lc(6,Ui,2,1,"div",6),g.Lc(7,Gi,2,1,"span",7),g.Lc(8,Bi,2,0,"mat-icon",8),g.Yb(),g.Zb(9,"div",0),g.Zb(10,"div",9),g.Nc(11),g.Yb(),g.Yb(),g.Yb(),g.Zb(12,"div",10),g.Zb(13,"div",11),g.Zb(14,"div",12),g.Nc(15),g.Yb(),g.Lc(16,$i,4,8,"div",13),g.Zb(17,"div",14),g.Lc(18,zi,8,16,"div",15),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Fb(1),g.sc("checked",e.selected),g.Fb(4),g.sc("ngIf",null==e.mail.from?null:e.mail.from.avatar),g.Fb(1),g.sc("ngIf",!(null!=e.mail.from&&e.mail.from.avatar)),g.Fb(1),g.sc("ngIf",null==e.mail?null:e.mail.from),g.Fb(1),g.sc("ngIf",e.mail.hasAttachments),g.Fb(3),g.Oc(e.mail.time),g.Fb(4),g.Pc(" ",e.mail.subject," "),g.Fb(1),g.sc("ngIf",null==e.mail?null:e.mail.message),g.Fb(2),g.sc("ngForOf",e.mail.labels))},directives:[_i.c,_i.b,a.a,_i.a,Ci.t,Li.b,Ci.s,l.a,Ci.w,Li.c],pipes:[Ci.E,Ni.a,Di.a,Ci.b],styles:["mail-ngrx-list-item{flex-shrink:0;position:relative;padding:16px 24px;border-bottom:1px solid;cursor:pointer}mail-ngrx-list-item.unread .info .name,mail-ngrx-list-item.unread .info .row-2 .subject{font-weight:700}mail-ngrx-list-item .info{overflow:hidden;width:0;margin-left:16px;position:relative}mail-ngrx-list-item .info .row-1{margin-bottom:8px}mail-ngrx-list-item .info .row-1 .name{font-size:15px;font-weight:600}mail-ngrx-list-item .info .row-1 .name .avatar{min-width:32px;width:32px;height:32px;line-height:32px}mail-ngrx-list-item .info .row-1 .actions{margin-left:4px}mail-ngrx-list-item .info .row-1 .actions .mat-icon-button{width:32px;height:32px;line-height:1}mail-ngrx-list-item .info .row-2 .message,mail-ngrx-list-item .info .row-2 .subject{width:100%}mail-ngrx-list-item .info .row-2 .message{position:relative}mail-ngrx-list-item .info .row-2 .labels{margin-top:8px}mail-ngrx-list-item .info .row-2 .labels .label{font-size:11px;border-radius:4px;margin:0 4px 0 0;padding:3px 8px}mail-ngrx-list-item .info .row-2 .labels .label .label-color{width:8px;height:8px;margin-right:8px;border-radius:50%}"],encapsulation:2,changeDetection:0}),Vi);function Qi(t,e){1&t&&(g.Zb(0,"div",3),g.Zb(1,"span",4),g.Nc(2),g.mc(3,"translate"),g.Yb(),g.Yb()),2&t&&(g.Fb(2),g.Oc(g.nc(3,1,"MAIL.NO_MESSAGES")))}var qi=function(t){return{"current-mail":t}};function Ji(t,e){if(1&t){var n=g.ac();g.Zb(0,"mail-ngrx-list-item",5),g.hc("click",(function(t){g.Dc(n);var i=e.$implicit;return g.lc().readMail(i.id)})),g.Yb()}if(2&t){var i=e.$implicit,r=g.lc();g.sc("mail",i)("ngClass",g.vc(2,qi,(null==i?null:i.id)==(null==r.currentMail?null:r.currentMail.id)))}}var Ki,Xi=((Ki=function(){function t(e,n,i){_classCallCheck(this,t),this._activatedRoute=e,this._mailNgrxService=n,this._router=i}return _createClass(t,[{key:"readMail",value:function(t){var e=this._activatedRoute.snapshot.params.labelHandle,n=this._activatedRoute.snapshot.params.filterHandle;this._router.navigate(e?["apps/mail-ngrx/label/"+e+"/"+t]:n?["apps/mail-ngrx/filter/"+n+"/"+t]:["apps/mail-ngrx/"+this._activatedRoute.snapshot.params.folderHandle+"/"+t])}}]),t}()).\u0275fac=function(t){return new(t||Ki)(g.Tb(i.a),g.Tb(ui),g.Tb(i.g))},Ki.\u0275cmp=g.Nb({type:Ki,selectors:[["mail-ngrx-list"]],inputs:{mails:"mails",currentMail:"currentMail"},decls:3,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[1,"mail-list"],[3,"mail","ngClass","click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[3,"mail","ngClass","click"]],template:function(t,e){1&t&&(g.Lc(0,Qi,4,3,"div",0),g.Zb(1,"div",1),g.Lc(2,Ji,1,4,"mail-ngrx-list-item",2),g.Yb()),2&t&&(g.sc("ngIf",0===e.mails.length),g.Fb(2),g.sc("ngForOf",e.mails))},directives:[Ci.t,Ci.s,_i.c,_i.b,_i.d,Wi,Ci.q,Li.a],pipes:[p.c],styles:["mail-ngrx-list{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;padding:0;border-right:1px solid;overflow-y:auto;-webkit-overflow-scrolling:touch}mail-ngrx-list .no-messages-text{font-size:24px;font-weight:300}mail-ngrx-list .mail-list{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1}"],encapsulation:2,changeDetection:0}),Ki);function tr(t,e){1&t&&(g.Zb(0,"div",2),g.Zb(1,"mat-icon",3),g.Nc(2," email "),g.Yb(),g.Zb(3,"span",4),g.Zb(4,"span"),g.Nc(5),g.mc(6,"translate"),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Fb(5),g.Oc(g.nc(6,1,"MAIL.SELECT_A_MESSAGE_TO_READ")))}var er=function(t){return{"background-color":t}};function nr(t,e){if(1&t&&(g.Zb(0,"div",34),g.Ub(1,"div",35),g.mc(2,"getById"),g.mc(3,"async"),g.Zb(4,"div",36),g.Nc(5),g.mc(6,"getById"),g.mc(7,"async"),g.Yb(),g.Yb()),2&t){var n=e.$implicit,i=g.lc(2);g.Fb(1),g.sc("ngStyle",g.vc(14,er,g.pc(2,2,g.nc(3,6,i.labels$),n,"color"))),g.Fb(4),g.Oc(g.pc(6,8,g.nc(7,12,i.labels$),n,"title"))}}function ir(t,e){1&t&&(g.Zb(0,"mat-icon",37),g.Nc(1,"star"),g.Yb())}function rr(t,e){1&t&&(g.Zb(0,"mat-icon",38),g.Nc(1,"star_border"),g.Yb())}function ar(t,e){1&t&&(g.Zb(0,"mat-icon",39),g.Nc(1,"label"),g.Yb())}function cr(t,e){1&t&&(g.Zb(0,"mat-icon",38),g.Nc(1,"label_outline"),g.Yb())}function or(t,e){if(1&t&&g.Ub(0,"img",40),2&t){var n=g.lc(2);g.tc("alt",n.mail.from.name),g.tc("src",n.mail.from.avatar,g.Fc)}}function sr(t,e){if(1&t&&(g.Zb(0,"div",41),g.Nc(1),g.Yb()),2&t){var n=g.lc(2);g.Fb(1),g.Pc(" ",n.mail.from.name[0]," ")}}function lr(t,e){1&t&&(g.Zb(0,"span"),g.Nc(1,"Show Details"),g.Yb())}function ur(t,e){1&t&&(g.Zb(0,"span"),g.Nc(1,"Hide Details"),g.Yb())}function fr(t,e){if(1&t&&(g.Zb(0,"div",42),g.Zb(1,"div",43),g.Zb(2,"span",44),g.Nc(3,"From:"),g.Yb(),g.Zb(4,"span",44),g.Nc(5,"To:"),g.Yb(),g.Zb(6,"span",44),g.Nc(7,"Date:"),g.Yb(),g.Yb(),g.Zb(8,"div",43),g.Zb(9,"span",45),g.Nc(10),g.Yb(),g.Zb(11,"span",45),g.Nc(12),g.Yb(),g.Zb(13,"span",45),g.Nc(14),g.Yb(),g.Yb(),g.Yb()),2&t){var n=g.lc(2);g.Fb(10),g.Oc(n.mail.from.email),g.Fb(2),g.Oc(n.mail.to[0].email),g.Fb(2),g.Oc(n.mail.time)}}function br(t,e){if(1&t&&(g.Zb(0,"div",49),g.Ub(1,"img",50),g.Zb(2,"div",43),g.Zb(3,"a",51),g.Nc(4,"View"),g.Yb(),g.Zb(5,"a",51),g.Nc(6,"Download"),g.Yb(),g.Zb(7,"div",52),g.Nc(8),g.Yb(),g.Yb(),g.Yb()),2&t){var n=e.$implicit;g.Fb(1),g.tc("src",n.preview,g.Fc),g.Fb(7),g.Pc("(",n.size,")")}}function dr(t,e){if(1&t&&(g.Zb(0,"div",46),g.Zb(1,"div",44),g.Zb(2,"span"),g.Nc(3,"Attachments"),g.Yb(),g.Nc(4),g.Yb(),g.Zb(5,"div",47),g.Lc(6,br,9,2,"div",48),g.Yb(),g.Yb()),2&t){var n=g.lc(2);g.Fb(4),g.Pc(" (",n.mail.attachments.length,") "),g.Fb(2),g.sc("ngForOf",n.mail.attachments)}}function pr(t,e){if(1&t){var n=g.ac();g.Zb(0,"div"),g.Zb(1,"div",5),g.Zb(2,"div"),g.Zb(3,"div",6),g.Nc(4),g.Yb(),g.Zb(5,"div",7),g.Lc(6,nr,8,16,"div",8),g.Yb(),g.Yb(),g.Zb(7,"div",9),g.Zb(8,"button",10),g.hc("click",(function(t){return g.Dc(n),g.lc().toggleStar(t)})),g.Lc(9,ir,2,0,"mat-icon",11),g.Lc(10,rr,2,0,"mat-icon",12),g.Yb(),g.Zb(11,"button",13),g.hc("click",(function(t){return g.Dc(n),g.lc().toggleImportant(t)})),g.Lc(12,ar,2,0,"mat-icon",14),g.Lc(13,cr,2,0,"mat-icon",12),g.Yb(),g.Yb(),g.Yb(),g.Zb(14,"div",15),g.Zb(15,"div",16),g.Zb(16,"div",17),g.Zb(17,"div",18),g.Zb(18,"div"),g.Lc(19,or,1,2,"img",19),g.Lc(20,sr,2,1,"div",20),g.Yb(),g.Zb(21,"div",21),g.Zb(22,"div",22),g.Nc(23),g.Yb(),g.Zb(24,"div",23),g.Zb(25,"div",24),g.Nc(26,"to"),g.Yb(),g.Zb(27,"div"),g.Nc(28),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(29,"a",25),g.hc("click",(function(t){g.Dc(n);var e=g.lc();return e.showDetails=!e.showDetails})),g.Lc(30,lr,2,0,"span",1),g.Lc(31,ur,2,0,"span",1),g.Yb(),g.Lc(32,fr,15,3,"div",26),g.Yb(),g.Zb(33,"button",27),g.hc("click",(function(t){return g.Dc(n),t.stopPropagation()})),g.Zb(34,"mat-icon"),g.Nc(35,"more_vert"),g.Yb(),g.Yb(),g.Zb(36,"mat-menu",null,28),g.Zb(38,"button",29),g.Zb(39,"mat-icon"),g.Nc(40,"reply"),g.Yb(),g.Zb(41,"span"),g.Nc(42,"Reply"),g.Yb(),g.Yb(),g.Zb(43,"button",30),g.Zb(44,"mat-icon"),g.Nc(45,"forward"),g.Yb(),g.Zb(46,"span"),g.Nc(47,"Forward"),g.Yb(),g.Yb(),g.Zb(48,"button",31),g.Zb(49,"mat-icon"),g.Nc(50,"print"),g.Yb(),g.Zb(51,"span"),g.Nc(52,"Print"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Ub(53,"div",32),g.Yb(),g.Lc(54,dr,7,2,"div",33),g.Yb()}if(2&t){var i=g.zc(37),r=g.lc();g.Fb(4),g.Oc(r.mail.subject),g.Fb(2),g.sc("ngForOf",r.mail.labels),g.Fb(3),g.sc("ngIf",r.mail.starred),g.Fb(1),g.sc("ngIf",!r.mail.starred),g.Fb(2),g.sc("ngIf",r.mail.important),g.Fb(1),g.sc("ngIf",!r.mail.important),g.Fb(6),g.sc("ngIf",r.mail.from.avatar),g.Fb(1),g.sc("ngIf",!r.mail.from.avatar),g.Fb(3),g.Pc(" ",r.mail.from.name," "),g.Fb(5),g.Oc(r.mail.to[0].name),g.Fb(2),g.sc("ngIf",!r.showDetails),g.Fb(1),g.sc("ngIf",r.showDetails),g.Fb(1),g.sc("ngIf",r.showDetails),g.Fb(1),g.sc("matMenuTriggerFor",i),g.Fb(20),g.sc("innerHTML",r.mail.message,g.Ec),g.Fb(1),g.sc("ngIf",r.mail.attachments)}}var hr,mr=((hr=function(){function t(e,n){_classCallCheck(this,t),this._mailNgrxService=e,this._store=n,this.labels$=this._store.pipe(_t(nn)),this.showDetails=!1}return _createClass(t,[{key:"ngOnChanges",value:function(){this.updateModel(this.currentMail),this.markAsRead()}},{key:"markAsRead",value:function(){this.mail&&!this.mail.read&&(this.mail.markRead(),this.updateMail())}},{key:"toggleStar",value:function(t){t.stopPropagation(),this.mail.toggleStar(),this.updateMail()}},{key:"toggleImportant",value:function(t){t.stopPropagation(),this.mail.toggleImportant(),this.updateMail()}},{key:"updateModel",value:function(t){this.mail=t?new Ri(Object.assign({},t)):null}},{key:"updateMail",value:function(){this._store.dispatch(new fe(this.mail)),this.updateModel(this.mail)}}]),t}()).\u0275fac=function(t){return new(t||hr)(g.Tb(ui),g.Tb(yt))},hr.\u0275cmp=g.Nb({type:hr,selectors:[["mail-ngrx-details"]],inputs:{currentMail:"currentMail"},features:[g.Db()],decls:2,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex",""],[1,"s-128","mb-16","select-message-icon","hint-text"],[1,"select-message-text","hint-text"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mail-header"],[1,"subject"],["fxLayout","row wrap",1,"labels","mt-8"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"actions"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","Toggle important",3,"click"],["class","red-fg",4,"ngIf"],[1,"mail-content"],["fxLayout","row","fxLayoutAlign","space-between start",1,"info"],["fxFlex","","fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","start start"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar","ms-random-class","vm.colors",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start"],[1,"name"],["fxLayout","row","fxLayoutAlign","start center",1,"to"],[1,"to-text"],[1,"toggle-details",3,"click"],["class","details","fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","Reply"],["mat-menu-item","","aria-label","Forward"],["mat-menu-item","","aria-label","Print"],[3,"innerHTML"],["class","mail-attachments",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"],[1,"amber-fg"],[1,"secondary-text"],[1,"red-fg"],[1,"avatar",3,"alt","src"],["ms-random-class","vm.colors",1,"avatar"],["fxLayout","row","fxLayoutAlign","start start",1,"details"],["fxLayout","column"],[1,"title"],[1,"detail"],[1,"mail-attachments"],["fxLayout","row wrap",1,"attachment-list"],["class","attachment","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"attachment"],[1,"preview",3,"src"],["href","#","onclick","event.preventDefault()"],[1,"size"]],template:function(t,e){1&t&&(g.Lc(0,tr,7,3,"div",0),g.Lc(1,pr,55,16,"div",1)),2&t&&(g.sc("ngIf",!e.mail),g.Fb(1),g.sc("ngIf",e.mail))},directives:[Ci.t,_i.c,_i.b,_i.a,l.a,Ci.s,r.b,f.c,f.d,f.a,Ci.w,Li.c],pipes:[p.c,Di.a,Ci.b],styles:["mail-ngrx-details{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;padding:24px;overflow-y:auto;-webkit-overflow-scrolling:touch}mail-ngrx-details .select-message-text{font-size:24px;font-weight:300}mail-ngrx-details .mail-header{padding-bottom:16px;border-bottom:1px solid}mail-ngrx-details .mail-header .actions{min-width:88px}mail-ngrx-details .mail-header .subject{font-size:17px;font-weight:600}mail-ngrx-details .mail-header .label{font-size:11px;border-radius:2px;margin:4px 4px 4px 0;padding:3px 8px}mail-ngrx-details .mail-header .label .label-color{width:8px;height:8px;margin-right:8px;border-radius:50%}mail-ngrx-details .mail-content{padding:24px 0}mail-ngrx-details .mail-content .to .to-text{margin-right:4px;text-transform:lowercase}mail-ngrx-details .mail-content .info{padding-bottom:16px}mail-ngrx-details .mail-content .info .avatar{margin-right:16px}mail-ngrx-details .mail-content .info .name{margin-right:8px;font-weight:600}mail-ngrx-details .mail-content .info .toggle-details{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:underline;padding-top:16px;cursor:pointer;font-weight:600}mail-ngrx-details .mail-content .info .details{padding-top:8px}mail-ngrx-details .mail-content .info .details .title{font-weight:600;margin-right:6px}mail-ngrx-details .mail-attachments{padding:24px 0;border-top:1px solid}mail-ngrx-details .mail-attachments .title{margin-bottom:16px;font-weight:600}mail-ngrx-details .mail-attachments .attachment .preview{width:100px;margin:0 16px 8px 0;border-radius:4px}mail-ngrx-details .mail-attachments .attachment .link{margin-bottom:2px}mail-ngrx-details .mail-attachments .attachment .size{font-size:11px}"],encapsulation:2,changeDetection:0}),hr);function gr(t,e){1&t&&g.Ub(0,"div",27)}function vr(t,e){if(1&t){var n=g.ac();g.Zb(0,"button",28),g.hc("click",(function(t){return g.Dc(n),g.lc().setFolderOnSelectedMails(4)})),g.Zb(1,"mat-icon",8),g.Nc(2,"delete"),g.Yb(),g.Yb()}}function yr(t,e){if(1&t&&(g.Zb(0,"button",14),g.Zb(1,"mat-icon",8),g.Nc(2,"folder"),g.Yb(),g.Yb()),2&t){g.lc();var n=g.zc(45);g.sc("matMenuTriggerFor",n)}}function xr(t,e){if(1&t){var n=g.ac();g.Zb(0,"button",16),g.hc("click",(function(t){g.Dc(n);var i=e.$implicit;return g.lc().setFolderOnSelectedMails(i.id)})),g.Nc(1),g.Yb()}if(2&t){var i=e.$implicit;g.Fb(1),g.Pc("",i.title," ")}}function _r(t,e){if(1&t&&(g.Zb(0,"button",14),g.Zb(1,"mat-icon",8),g.Nc(2,"label"),g.Yb(),g.Yb()),2&t){g.lc();var n=g.zc(50);g.sc("matMenuTriggerFor",n)}}function Sr(t,e){if(1&t){var n=g.ac();g.Zb(0,"button",16),g.hc("click",(function(t){g.Dc(n);var i=e.$implicit;return g.lc().toggleLabelOnSelectedMails(i.id)})),g.Nc(1),g.Yb()}if(2&t){var i=e.$implicit;g.Fb(1),g.Pc("",i.title," ")}}function kr(t,e){if(1&t){var n=g.ac();g.Zb(0,"div",29),g.Zb(1,"button",28),g.hc("click",(function(t){return g.Dc(n),g.lc().deselectCurrentMail()})),g.Zb(2,"mat-icon",8),g.Nc(3,"arrow_back"),g.Yb(),g.Yb(),g.Yb()}}var Cr,Lr=function(t){return{"current-mail-selected":t}},Or=((Cr=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this._changeDetectorRef=e,this._fuseSidebarService=n,this._fuseTranslationLoaderService=i,this._mailNgrxService=r,this._store=a,this.searchInput=new pi.d(""),this._fuseTranslationLoaderService.loadTranslations(hi,mi),this.currentMail$=this._store.pipe(_t(Be)),this.mails$=this._store.pipe(_t(Ge)),this.folders$=this._store.pipe(_t(We)),this.labels$=this._store.pipe(_t(nn)),this.selectedMailIds$=this._store.pipe(_t($e)),this.searchText$=this._store.pipe(_t(Ue)),this.mails=[],this.selectedMailIds=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.mails$.subscribe((function(e){t.mails=e})),this.selectedMailIds$.subscribe((function(e){t.selectedMailIds=e,t.hasSelectedMails=e.length>0,t.isIndeterminate=e.length!==t.mails.length&&e.length>0,t.refresh()})),this.searchText$.subscribe((function(e){t.searchInput.setValue(e)})),this.searchInput.valueChanges.pipe(Object(oi.a)(300),Object(I.a)()).subscribe((function(e){t._store.dispatch(new he(e))}))}},{key:"ngOnDestroy",value:function(){this._changeDetectorRef.detach()}},{key:"toggleSelectAll",value:function(t){t.preventDefault(),this.selectedMailIds.length&&this.selectedMailIds.length>0?this.deselectAllMails():this.selectAllMails()}},{key:"selectAllMails",value:function(){this._store.dispatch(new me)}},{key:"deselectAllMails",value:function(){this._store.dispatch(new ge)}},{key:"selectMailsByParameter",value:function(t,e){this._store.dispatch(new ye({parameter:t,value:e}))}},{key:"toggleLabelOnSelectedMails",value:function(t){this._store.dispatch(new _e(t))}},{key:"setFolderOnSelectedMails",value:function(t){this._store.dispatch(new xe(t))}},{key:"deselectCurrentMail",value:function(){this._store.dispatch(new se(""))}},{key:"refresh",value:function(){this._changeDetectorRef.markForCheck()}},{key:"toggleSidebar",value:function(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}}]),t}()).\u0275fac=function(t){return new(t||Cr)(g.Tb(g.h),g.Tb(gi.a),g.Tb(vi.a),g.Tb(ui),g.Tb(yt))},Cr.\u0275cmp=g.Nb({type:Cr,selectors:[["mail-ngrx"]],decls:61,vars:34,consts:[["id","mail",1,"page-layout","carded","left-sidebar","inner-scroll"],[1,"top-bg","accent"],["name","mail-ngrx-main-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"center"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["mat-icon-button","","fxHide.gt-md","",1,"sidebar-toggle",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"search"],[1,"secondary-text"],["fxFlex","",3,"formControl","placeholder"],[1,"content-card",3,"ngClass"],[1,"toolbar","px-24","py-8"],["fxFlex","row","fxLayoutAlign","start center",1,"mail-selection"],[3,"checked","indeterminate","click"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],["class","toolbar-separator",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["folderMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["labelMenu","matMenu"],["fxHide.gt-xs","",4,"ngIf"],["fxLayout","row",1,"content"],["fusePerfectScrollbar","","fxFlex","",3,"mails","currentMail"],["fusePerfectScrollbar","","fxFlex","",3,"currentMail"],[1,"toolbar-separator"],["mat-icon-button","",3,"click"],["fxHide.gt-xs",""]],template:function(t,e){if(1&t&&(g.Zb(0,"div",0),g.Ub(1,"div",1),g.Zb(2,"fuse-sidebar",2),g.Ub(3,"mail-ngrx-main-sidebar"),g.Yb(),g.Zb(4,"div",3),g.Zb(5,"div",4),g.Zb(6,"div",5),g.Zb(7,"button",6),g.hc("click",(function(t){return e.toggleSidebar("mail-ngrx-main-sidebar")})),g.Zb(8,"mat-icon"),g.Nc(9,"menu"),g.Yb(),g.Yb(),g.Zb(10,"div",7),g.Zb(11,"mat-icon",8),g.Nc(12,"search"),g.Yb(),g.Ub(13,"input",9),g.mc(14,"translate"),g.Yb(),g.Yb(),g.Yb(),g.Zb(15,"div",10),g.mc(16,"async"),g.Zb(17,"div",11),g.Zb(18,"div",12),g.Zb(19,"mat-checkbox",13),g.hc("click",(function(t){return e.toggleSelectAll(t)})),g.Yb(),g.Zb(20,"button",14),g.Zb(21,"mat-icon"),g.Nc(22,"arrow_drop_down"),g.Yb(),g.Yb(),g.Zb(23,"mat-menu",null,15),g.Zb(25,"button",16),g.hc("click",(function(t){return e.selectAllMails()})),g.Nc(26,"All"),g.Yb(),g.Zb(27,"button",16),g.hc("click",(function(t){return e.deselectAllMails()})),g.Nc(28,"None"),g.Yb(),g.Zb(29,"button",16),g.hc("click",(function(t){return e.selectMailsByParameter("read",!0)})),g.Nc(30,"Read"),g.Yb(),g.Zb(31,"button",16),g.hc("click",(function(t){return e.selectMailsByParameter("read",!1)})),g.Nc(32,"Unread"),g.Yb(),g.Zb(33,"button",16),g.hc("click",(function(t){return e.selectMailsByParameter("starred",!0)})),g.Nc(34,"Starred"),g.Yb(),g.Zb(35,"button",16),g.hc("click",(function(t){return e.selectMailsByParameter("starred",!1)})),g.Nc(36,"Unstarred"),g.Yb(),g.Zb(37,"button",16),g.hc("click",(function(t){return e.selectMailsByParameter("important",!0)})),g.Nc(38,"Important"),g.Yb(),g.Zb(39,"button",16),g.hc("click",(function(t){return e.selectMailsByParameter("important",!1)})),g.Nc(40,"Unimportant"),g.Yb(),g.Yb(),g.Lc(41,gr,1,0,"div",17),g.Lc(42,vr,3,0,"button",18),g.Lc(43,yr,3,1,"button",19),g.Zb(44,"mat-menu",null,20),g.Lc(46,xr,2,1,"button",21),g.mc(47,"async"),g.Yb(),g.Lc(48,_r,3,1,"button",19),g.Zb(49,"mat-menu",null,22),g.Lc(51,Sr,2,1,"button",21),g.mc(52,"async"),g.Yb(),g.Yb(),g.Lc(53,kr,4,0,"div",23),g.mc(54,"async"),g.Yb(),g.Zb(55,"div",24),g.Ub(56,"mail-ngrx-list",25),g.mc(57,"async"),g.mc(58,"async"),g.Ub(59,"mail-ngrx-details",26),g.mc(60,"async"),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t){var n=g.zc(24);g.Fb(13),g.sc("formControl",e.searchInput)("placeholder",g.nc(14,16,"MAIL.SEARCH_PLACEHOLDER")),g.Fb(2),g.sc("ngClass",g.vc(32,Lr,g.nc(16,18,e.currentMail$))),g.Fb(4),g.sc("checked",e.hasSelectedMails)("indeterminate",e.isIndeterminate),g.Fb(1),g.sc("matMenuTriggerFor",n),g.Fb(21),g.sc("ngIf",e.hasSelectedMails),g.Fb(1),g.sc("ngIf",e.hasSelectedMails),g.Fb(1),g.sc("ngIf",e.hasSelectedMails),g.Fb(3),g.sc("ngForOf",g.nc(47,20,e.folders$)),g.Fb(2),g.sc("ngIf",e.hasSelectedMails),g.Fb(3),g.sc("ngForOf",g.nc(52,22,e.labels$)),g.Fb(2),g.sc("ngIf",g.nc(54,24,e.currentMail$)),g.Fb(3),g.sc("mails",g.nc(57,26,e.mails$))("currentMail",g.nc(58,28,e.currentMail$)),g.Fb(3),g.sc("currentMail",g.nc(60,30,e.currentMail$))}},directives:[yi.a,xi.a,Ti,_i.c,_i.b,_i.a,r.b,Li.b,l.a,pi.b,pi.o,pi.e,Ci.q,Li.a,a.a,f.c,f.d,f.a,Ci.t,Ci.s,Xi,Si.a,mr],pipes:[p.c,Ci.b],styles:["mail-ngrx{width:100%}mail-ngrx .center .header .search-wrapper{border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}mail-ngrx .center .header .search-wrapper .sidebar-toggle{margin:0 0 0 6px;width:56px;height:56px;border-radius:0;border-right:1px solid}mail-ngrx .center .header .search-wrapper .search{width:100%;height:56px;line-height:56px;padding:0 18px}mail-ngrx .center .header .search-wrapper .search input{height:56px;min-height:56px;max-height:56px;padding:0 16px;border:none;outline:none}mail-ngrx .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:599px){mail-ngrx .center .content-card mail-ngrx-list{border-right:none}mail-ngrx .center .content-card mail-ngrx-details,mail-ngrx .center .content-card mail-ngrx-list{-webkit-box-flex:1;flex:1 0 100%}mail-ngrx .center .content-card mail-ngrx-details{display:none!important}mail-ngrx .center .content-card.current-mail-selected .toolbar{padding-left:16px!important}mail-ngrx .center .content-card.current-mail-selected .content mail-ngrx-list,mail-ngrx .center .content-card.current-mail-selected .toolbar .mail-selection{display:none!important}mail-ngrx .center .content-card.current-mail-selected .content mail-ngrx-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2,changeDetection:0}),Cr);n.d(e,"MailNgrxModule",(function(){return Er}));var wr,Ar=[{path:"label/:labelHandle",component:Or,canActivate:[bi]},{path:"label/:labelHandle/:mailId",component:Or,canActivate:[bi]},{path:"filter/:filterHandle",component:Or,canActivate:[bi]},{path:"filter/:filterHandle/:mailId",component:Or,canActivate:[bi]},{path:":folderHandle",component:Or,canActivate:[bi]},{path:":folderHandle/:mailId",component:Or,canActivate:[bi]},{path:"**",redirectTo:"inbox"}],Er=((wr=function t(){_classCallCheck(this,t)}).\u0275mod=g.Rb({type:wr}),wr.\u0275inj=g.Qb({factory:function(t){return new(t||wr)},providers:[ui,bi],imports:[[i.k.forChild(Ar),r.c,a.b,o.e,s.d,l.b,u.c,f.b,c.s,b.b,d.b,p.b,h.a,m.f,di]]}),wr)},FpsG:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("EYJY"),r=n("ccoi"),a=n("Ub9n"),c=n("bwEX"),o=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._elementRef=e,this._fuseMediaMatchService=n,this._renderer=r,this._unsubscribeAll=new i.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(r.a)(this._unsubscribeAll)).subscribe((function(e){"xs"===e?t._removeClass():t._addClass()})))}},{key:"ngOnDestroy",value:function(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}},{key:"_addClass",value:function(){this._renderer.addClass(this._grandParent,"inner-scroll")}},{key:"_removeClass",value:function(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(c.a),a.Tb(a.H))},t.\u0275dir=a.Ob({type:t,selectors:[["",8,"inner-scroll"]]}),t}()}}]);