(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{FpsG:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var a=i("EYJY"),n=i("ccoi"),l=i("Ub9n"),s=i("bwEX");let c=(()=>{class t{constructor(t,e,i){this._elementRef=t,this._fuseMediaMatchService=e,this._renderer=i,this._unsubscribeAll=new a.a}ngOnInit(){this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(n.a)(this._unsubscribeAll)).subscribe(t=>{"xs"===t?this._removeClass():this._addClass()}))}ngOnDestroy(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}_addClass(){this._renderer.addClass(this._grandParent,"inner-scroll")}_removeClass(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}return t.\u0275fac=function(e){return new(e||t)(l.Tb(l.l),l.Tb(s.a),l.Tb(l.H))},t.\u0275dir=l.Ob({type:t,selectors:[["",8,"inner-scroll"]]}),t})()},KooE:function(t,e,i){"use strict";i.r(e);var a=i("Fk62"),n=i("1xOk"),l=i("PUIy"),s=i("1rLY"),c=i("0sao"),o=i("CsWY"),r=i("hqWh"),b=i("N2ZZ"),m=i("YLls"),d=i("jHnc"),u=i("TYSv"),h=i("zasx"),f=i("OHu/"),p=i("Ncdh"),g=i("6UlS"),x=i("/0p4");class v{constructor(t){this.id=t.id,this.from=t.from,this.to=t.to,this.subject=t.subject,this.message=t.message,this.time=t.time,this.read=t.read,this.starred=t.starred,this.important=t.important,this.hasAttachments=t.hasAttachments,this.attachments=t.attachments,this.labels=t.labels,this.folder=t.folder}toggleStar(){this.starred=!this.starred}toggleImportant(){this.important=!this.important}}var w=i("Ub9n"),Y=i("FBrc");let F=(()=>{class t{constructor(t){this._httpClient=t,this.searchText="",this.selectedMails=[],this.onMailsChanged=new g.a([]),this.onSelectedMailsChanged=new g.a([]),this.onCurrentMailChanged=new g.a([]),this.onFoldersChanged=new g.a([]),this.onFiltersChanged=new g.a([]),this.onLabelsChanged=new g.a([]),this.onSearchTextChanged=new g.a("")}resolve(t,e){return this.routeParams=t.params,new Promise((t,e)=>{Promise.all([this.getFolders(),this.getFilters(),this.getLabels(),this.getMails()]).then(()=>{this.setCurrentMail(this.routeParams.mailId?this.routeParams.mailId:null),this.onSearchTextChanged.subscribe(t=>{this.searchText=t,this.getMails()}),t()},e)})}getFolders(){return new Promise((t,e)=>{this._httpClient.get("api/mail-folders").subscribe(e=>{this.folders=e,this.onFoldersChanged.next(this.folders),t(this.folders)},e)})}getFilters(){return new Promise((t,e)=>{this._httpClient.get("api/mail-filters").subscribe(e=>{this.filters=e,this.onFiltersChanged.next(this.filters),t(this.filters)},e)})}getLabels(){return new Promise((t,e)=>{this._httpClient.get("api/mail-labels").subscribe(e=>{this.labels=e,this.onLabelsChanged.next(this.labels),t(this.labels)},e)})}getMails(){return this.routeParams.labelHandle?this.getMailsByLabel(this.routeParams.labelHandle):this.routeParams.filterHandle?this.getMailsByFilter(this.routeParams.filterHandle):this.getMailsByFolder(this.routeParams.folderHandle)}getMailsByFolder(t){return new Promise((e,i)=>{this._httpClient.get("api/mail-folders?handle="+t).subscribe(t=>{this._httpClient.get("api/mail-mails?folder="+t[0].id).subscribe(t=>{this.mails=t.map(t=>new v(t)),this.mails=x.a.filterArrayByString(this.mails,this.searchText),this.onMailsChanged.next(this.mails),e(this.mails)},i)})})}getMailsByFilter(t){return new Promise((e,i)=>{this._httpClient.get("api/mail-mails?"+t+"=true").subscribe(t=>{this.mails=t.map(t=>new v(t)),this.mails=x.a.filterArrayByString(this.mails,this.searchText),this.onMailsChanged.next(this.mails),e(this.mails)},i)})}getMailsByLabel(t){return new Promise((e,i)=>{this._httpClient.get("api/mail-labels?handle="+t).subscribe(t=>{this._httpClient.get("api/mail-mails?labels="+t[0].id).subscribe(t=>{this.mails=t.map(t=>new v(t)),this.mails=x.a.filterArrayByString(this.mails,this.searchText),this.onMailsChanged.next(this.mails),e(this.mails)},i)})})}toggleSelectedMail(t){if(this.selectedMails.length>0)for(const e of this.selectedMails)if(e.id===t){const t=this.selectedMails.indexOf(e);if(-1!==t)return this.selectedMails.splice(t,1),void this.onSelectedMailsChanged.next(this.selectedMails)}this.selectedMails.push(this.mails.find(e=>e.id===t)),this.onSelectedMailsChanged.next(this.selectedMails)}toggleSelectAll(){this.selectedMails.length>0?this.deselectMails():this.selectMails()}selectMails(t,e){this.selectedMails=[],void 0===t||void 0===e?this.selectedMails=this.mails:this.selectedMails.push(...this.mails.filter(i=>i[t]===e)),this.onSelectedMailsChanged.next(this.selectedMails)}deselectMails(){this.selectedMails=[],this.onSelectedMailsChanged.next(this.selectedMails)}setCurrentMail(t){this.currentMail=this.mails.find(e=>e.id===t),this.onCurrentMailChanged.next(this.currentMail)}toggleLabelOnSelectedMails(t){this.selectedMails.map(e=>{const i=e.labels.indexOf(t);-1!==i?e.labels.splice(i,1):e.labels.push(t),this.updateMail(e)})}setFolderOnSelectedMails(t){this.selectedMails.map(e=>{e.folder=t,this.updateMail(e)}),this.deselectMails()}updateMail(t){return new Promise((e,i)=>{this._httpClient.post("api/mail-mails/"+t.id,Object.assign({},t)).subscribe(t=>{this.getMails().then(t=>{t&&this.currentMail&&this.setCurrentMail(this.currentMail.id),e(t)},i)})})}}return t.\u0275fac=function(e){return new(e||t)(w.dc(Y.c))},t.\u0275prov=w.Pb({token:t,factory:t.\u0275fac}),t})();var Z=i("8VHZ"),L=i("EYJY"),S=i("ccoi"),M=i("+3x0"),y=i("S5zL");const _={lang:"en",data:{MAIL:{COMPOSE:"COMPOSE",FOLDERS:"FOLDERS",FILTERS:"FILTERS",LABELS:"LABELS",NO_MESSAGES:"There are no messages!",SELECT_A_MESSAGE_TO_READ:"Select a message to read",SEARCH_PLACEHOLDER:"Search for an e-mail or contact"},OPINION:{COMPOSE:"COMPOSE",FOLDERS:"FOLDERS",FILTERS:"FILTERS",LABELS:"LABELS",NO_MESSAGES:"There are no messages!",SELECT_A_MESSAGE_TO_READ:"Select a message to read",SEARCH_PLACEHOLDER:"Search for an e-mail or contact"}}},A={lang:"tr",data:{MAIL:{COMPOSE:"YEN\u0130 E-POSTA",FOLDERS:"KLAS\xd6RLER",FILTERS:"F\u0130LTRELER",LABELS:"ET\u0130KETLER",NO_MESSAGES:"Mesajiniz bulunmamakta!",SELECT_A_MESSAGE_TO_READ:"Okumak i\xe7in bir mesaj se\xe7in",SEARCH_PLACEHOLDER:"E-mail yada bir ki\u015fi aray\u0131n"}}};var C=i("0u4M"),O=i("ZYkU"),N=i("FpsG"),k=i("RONT"),I=i("G+XH"),E=i("qQg5"),T=i("FBYz"),P=i("mcTK");let D=(()=>{class t{constructor(t,e){this.matDialogRef=t,this._data=e,this.composeForm=this.createComposeForm(),this.showExtraToFields=!1}createComposeForm(){return new Z.g({from:new Z.d({value:"johndoe@creapond.com",disabled:!0}),to:new Z.d(""),cc:new Z.d(""),bcc:new Z.d(""),subject:new Z.d(""),message:new Z.d("")})}toggleExtraToFields(){this.showExtraToFields=!this.showExtraToFields}}return t.\u0275fac=function(e){return new(e||t)(w.Tb(c.f),w.Tb(c.a))},t.\u0275cmp=w.Nb({type:t,selectors:[["mail-compose"]],decls:69,vars:6,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","m-0"],["name","composeForm","fxLayout","column","fxFlex","",1,"compose-form",3,"formGroup"],["appearance","outline"],["matInput","","name","from","formControlName","from","type","email"],[1,"show-hide-extra-fields",3,"click"],[3,"fxShow"],["matInput","","name","to","formControlName","to","type","email","required",""],["appearance","outline",3,"fxShow"],["matInput","","name","cc","formControlName","cc","type","email"],["matInput","","name","bcc","formControlName","bcc","type","email"],["matInput","","name","subject","formControlName","subject"],["matInput","","name","message","formControlName","message","rows","6"],[1,"attachment-list"],["fxLayout","row","fxLayoutAlign","space-between center",1,"attachment"],[1,"filename"],[1,"size","ml-4"],["mat-icon-button","","aria-label","Delete attachment"],[1,"s-16"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-between center",1,"m-0","p-16"],["mat-raised-button","","color","accent","aria-label","SAVE",1,"save-button",3,"disabled","click"],["mat-icon-button","","matTooltip","Attach a file"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click"]],template:function(t,e){1&t&&(w.Zb(0,"div",0),w.Zb(1,"mat-toolbar",1),w.Zb(2,"mat-toolbar-row",2),w.Zb(3,"span",3),w.Nc(4,"New Message"),w.Yb(),w.Zb(5,"button",4),w.hc("click",(function(t){return e.matDialogRef.close()})),w.Zb(6,"mat-icon"),w.Nc(7,"close"),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Zb(8,"div",5),w.Zb(9,"form",6),w.Zb(10,"mat-form-field",7),w.Zb(11,"mat-label"),w.Nc(12,"From"),w.Yb(),w.Ub(13,"input",8),w.Yb(),w.Zb(14,"div",9),w.hc("click",(function(t){return e.toggleExtraToFields()})),w.Zb(15,"span",10),w.Nc(16,"Show CC & BCC"),w.Yb(),w.Zb(17,"span",10),w.Nc(18,"Hide CC & BCC"),w.Yb(),w.Yb(),w.Zb(19,"mat-form-field",7),w.Zb(20,"mat-label"),w.Nc(21,"To"),w.Yb(),w.Ub(22,"input",11),w.Yb(),w.Zb(23,"mat-form-field",12),w.Zb(24,"mat-label"),w.Nc(25,"Cc"),w.Yb(),w.Ub(26,"input",13),w.Yb(),w.Zb(27,"mat-form-field",12),w.Zb(28,"mat-label"),w.Nc(29,"Bcc"),w.Yb(),w.Ub(30,"input",14),w.Yb(),w.Zb(31,"mat-form-field",7),w.Zb(32,"mat-label"),w.Nc(33,"Subject"),w.Yb(),w.Ub(34,"input",15),w.Yb(),w.Zb(35,"mat-form-field",7),w.Zb(36,"mat-label"),w.Nc(37,"Message"),w.Yb(),w.Zb(38,"textarea",16),w.Nc(39,"                "),w.Yb(),w.Yb(),w.Zb(40,"div",17),w.Zb(41,"div",18),w.Zb(42,"div"),w.Zb(43,"span",19),w.Nc(44,"attachment-2.doc"),w.Yb(),w.Zb(45,"span",20),w.Nc(46,"(12 Kb)"),w.Yb(),w.Yb(),w.Zb(47,"button",21),w.Zb(48,"mat-icon",22),w.Nc(49,"close"),w.Yb(),w.Yb(),w.Yb(),w.Zb(50,"div",18),w.Zb(51,"div"),w.Zb(52,"span",19),w.Nc(53,"attachment-1.jpg"),w.Yb(),w.Zb(54,"span",20),w.Nc(55,"(350 Kb)"),w.Yb(),w.Yb(),w.Zb(56,"button",21),w.Zb(57,"mat-icon",22),w.Nc(58,"close"),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Zb(59,"div",23),w.Zb(60,"div"),w.Zb(61,"button",24),w.hc("click",(function(t){return e.matDialogRef.close(["send",e.composeForm])})),w.Nc(62," SEND "),w.Yb(),w.Zb(63,"button",25),w.Zb(64,"mat-icon"),w.Nc(65,"attach_file"),w.Yb(),w.Yb(),w.Yb(),w.Zb(66,"button",26),w.hc("click",(function(t){return e.matDialogRef.close(["delete",e.composeForm])})),w.Zb(67,"mat-icon"),w.Nc(68,"delete"),w.Yb(),w.Yb(),w.Yb(),w.Yb()),2&t&&(w.Fb(9),w.sc("formGroup",e.composeForm),w.Fb(6),w.sc("fxShow",!e.showExtraToFields),w.Fb(2),w.sc("fxShow",e.showExtraToFields),w.Fb(6),w.sc("fxShow",e.showExtraToFields),w.Fb(4),w.sc("fxShow",e.showExtraToFields),w.Fb(34),w.sc("disabled",e.composeForm.invalid))},directives:[u.a,u.c,E.a,E.c,E.b,n.b,r.a,c.d,T.a,Z.w,Z.p,Z.h,o.b,o.f,b.b,Z.b,Z.o,Z.f,P.b,Z.u,c.c],styles:["@media screen and (max-width:599px){.mail-compose-dialog{width:100%}}@media screen and (min-width:600px){.mail-compose-dialog{width:640px}}.mail-compose-dialog .mat-dialog-container{padding:0}.mail-compose-dialog .mat-dialog-container .compose-form .mat-form-field{width:100%}.mail-compose-dialog .mat-dialog-container .compose-form .show-hide-extra-fields{text-align:right;cursor:pointer;font-size:12px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list{font-size:13px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment{border:1px solid;border-radius:20px;padding-left:16px;margin-top:8px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment .filename{font-weight:600}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment:last-child{margin-bottom:0}.mail-compose-dialog .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"],encapsulation:2}),t})();var R=i("Yvf7"),j=i("Bqte");function H(t,e){if(1&t&&(w.Zb(0,"mat-option",15),w.Nc(1),w.Yb()),2&t){const t=e.$implicit;w.sc("value",t.key),w.Fb(1),w.Pc(" ",t.value," ")}}function B(t,e){if(1&t&&(w.Zb(0,"mat-icon",19),w.Nc(1),w.Yb()),2&t){const t=w.lc().$implicit;w.Fb(1),w.Oc(t.icon)}}const U=function(){return["active","accent"]};function z(t,e){if(1&t&&(w.Zb(0,"div",16),w.Zb(1,"a",17),w.Lc(2,B,2,1,"mat-icon",18),w.Zb(3,"span"),w.Nc(4),w.Yb(),w.Yb(),w.Yb()),2&t){const t=e.$implicit;w.Fb(1),w.sc("routerLink","/apps/mail/"+t.handle)("routerLinkActive",w.uc(4,U)),w.Fb(1),w.sc("ngIf",t.icon),w.Fb(2),w.Oc(t.title)}}function $(t,e){if(1&t&&(w.Zb(0,"mat-icon",21),w.Nc(1),w.Yb()),2&t){const t=w.lc().$implicit;w.sc("ngClass",t.color),w.Fb(1),w.Oc(t.icon)}}function G(t,e){if(1&t&&(w.Zb(0,"div",16),w.Zb(1,"a",17),w.Lc(2,$,2,2,"mat-icon",20),w.Zb(3,"span"),w.Nc(4),w.Yb(),w.Yb(),w.Yb()),2&t){const t=e.$implicit;w.Fb(1),w.sc("routerLink","/apps/mail/filter/"+t.handle)("routerLinkActive",w.uc(4,U)),w.Fb(1),w.sc("ngIf",t.icon),w.Fb(2),w.Oc(t.title)}}const q=function(t){return{color:t}};function J(t,e){if(1&t&&(w.Zb(0,"div",16),w.Zb(1,"a",17),w.Zb(2,"mat-icon",22),w.Nc(3,"label"),w.Yb(),w.Zb(4,"span"),w.Nc(5),w.Yb(),w.Yb(),w.Yb()),2&t){const t=e.$implicit;w.Fb(1),w.sc("routerLink","/apps/mail/label/"+t.handle)("routerLinkActive",w.uc(4,U)),w.Fb(1),w.sc("ngStyle",w.vc(5,q,t.color)),w.Fb(3),w.Oc(t.title)}}const K=function(){return{delay:"50ms",scale:"0.2"}},V=function(t){return{value:"*",params:t}},Q=function(){return{delay:"100ms",x:"-25px"}},W=function(){return{delay:"300ms"}},X=function(){return{y:"50px"}};let tt=(()=>{class t{constructor(t,e){this._mailService=t,this._matDialog=e,this.accounts={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"},this.selectedAccount="creapond",this._unsubscribeAll=new L.a}ngOnInit(){this._mailService.onFoldersChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.folders=t}),this._mailService.onFiltersChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.filters=t}),this._mailService.onLabelsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.labels=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}composeDialog(){this.dialogRef=this._matDialog.open(D,{panelClass:"mail-compose-dialog"}),this.dialogRef.afterClosed().subscribe(t=>{if(!t)return;const e=t[1];switch(t[0]){case"send":console.log("new Mail",e.getRawValue());break;case"delete":console.log("delete Mail")}})}}return t.\u0275fac=function(e){return new(e||t)(w.Tb(F),w.Tb(c.b))},t.\u0275cmp=w.Nb({type:t,selectors:[["mail-main-sidebar"]],decls:31,vars:35,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"header","accent","p-24","pb-4"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","s-32"],[1,"logo-text"],["fxLayout","column",1,"account"],[1,"title"],["floatLabel","never"],["placeholder","Mail Selection",1,"account-selection",3,"ngModel"],[3,"value",4,"ngFor","ngForOf"],["fusePerfectScrollbar","",1,"content"],[1,"px-24","pt-32","pb-12"],["mat-raised-button","","aria-label","Compose",1,"mat-accent","compose-dialog-button","w-100-p",3,"click"],[1,"nav","material2"],[1,"nav-subheader"],["class","nav-item",4,"ngFor","ngForOf"],[3,"value"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"routerLink","routerLinkActive"],["class","nav-link-icon",4,"ngIf"],[1,"nav-link-icon"],["class","nav-link-icon",3,"ngClass",4,"ngIf"],[1,"nav-link-icon",3,"ngClass"],[1,"nav-link-icon",3,"ngStyle"]],template:function(t,e){1&t&&(w.Zb(0,"div",0),w.Zb(1,"div",1),w.Zb(2,"mat-icon",2),w.Nc(3,"mail "),w.Yb(),w.Zb(4,"span",3),w.Nc(5,"Mailbox"),w.Yb(),w.Yb(),w.Zb(6,"div",4),w.Zb(7,"div",5),w.Nc(8,"John Doe"),w.Yb(),w.Zb(9,"mat-form-field",6),w.Zb(10,"mat-select",7),w.Lc(11,H,2,2,"mat-option",8),w.mc(12,"keys"),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Zb(13,"div",9),w.Zb(14,"div",10),w.Zb(15,"button",11),w.hc("click",(function(t){return e.composeDialog()})),w.Nc(16),w.mc(17,"translate"),w.Yb(),w.Yb(),w.Zb(18,"div",12),w.Zb(19,"div",13),w.Nc(20),w.mc(21,"translate"),w.Yb(),w.Lc(22,z,5,5,"div",14),w.Zb(23,"div",13),w.Nc(24),w.mc(25,"translate"),w.Yb(),w.Lc(26,G,5,5,"div",14),w.Zb(27,"div",13),w.Nc(28),w.mc(29,"translate"),w.Yb(),w.Lc(30,J,6,7,"div",14),w.Yb(),w.Yb()),2&t&&(w.Fb(2),w.sc("@animate",w.vc(24,V,w.uc(23,K))),w.Fb(2),w.sc("@animate",w.vc(27,V,w.uc(26,Q))),w.Fb(2),w.sc("@animate",w.vc(30,V,w.uc(29,W))),w.Fb(4),w.sc("ngModel",e.selectedAccount),w.Fb(1),w.sc("ngForOf",w.nc(12,13,e.accounts)),w.Fb(2),w.sc("@animate",w.vc(33,V,w.uc(32,X))),w.Fb(3),w.Pc(" ",w.nc(17,15,"MAIL.COMPOSE")," "),w.Fb(4),w.Oc(w.nc(21,17,"MAIL.FOLDERS")),w.Fb(2),w.sc("ngForOf",e.folders),w.Fb(2),w.Oc(w.nc(25,19,"MAIL.FILTERS")),w.Fb(2),w.sc("ngForOf",e.filters),w.Fb(2),w.Oc(w.nc(29,21,"MAIL.LABELS")),w.Fb(2),w.sc("ngForOf",e.labels))},directives:[E.c,E.b,E.a,r.a,o.b,d.a,Z.o,Z.r,R.s,T.a,n.b,s.n,a.j,s.r,a.i,R.t,R.q,P.a,R.w,P.c],pipes:[j.a,h.c],styles:["mail-main-sidebar{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}mail-main-sidebar .header .logo .logo-icon{margin:0 16px 0 0}mail-main-sidebar .header .logo .logo-text{font-size:24px;line-height:24px}mail-main-sidebar .header .account{width:100%}"],encapsulation:2,data:{animation:I.a}}),t})();var et=i("Adbh"),it=i("tUf/");function at(t,e){if(1&t&&w.Ub(0,"img",16),2&t){const t=w.lc();w.tc("alt",null==t.mail.from?null:t.mail.from.name),w.tc("src",null==t.mail.from?null:t.mail.from.avatar,w.Fc)}}function nt(t,e){if(1&t&&(w.Zb(0,"div",17),w.Nc(1),w.Yb()),2&t){const t=w.lc();w.Fb(1),w.Oc(null==t.mail.from?null:t.mail.from.name[0])}}function lt(t,e){if(1&t&&(w.Zb(0,"span",18),w.Nc(1),w.Yb()),2&t){const t=w.lc();w.Fb(1),w.Oc(null==t.mail.from?null:t.mail.from.name)}}function st(t,e){1&t&&(w.Zb(0,"mat-icon",19),w.Nc(1,"attachment"),w.Yb())}function ct(t,e){if(1&t&&(w.Zb(0,"div",20),w.Nc(1),w.mc(2,"slice"),w.mc(3,"htmlToPlaintext"),w.Yb()),2&t){const t=w.lc();w.Fb(1),w.Qc(" ",w.pc(2,2,w.nc(3,6,t.mail.message),0,180),"",t.mail.message.length>180?"...":""," ")}}const ot=function(t){return{"background-color":t}};function rt(t,e){if(1&t&&(w.Zb(0,"div",21),w.Ub(1,"div",22),w.mc(2,"getById"),w.Zb(3,"div",23),w.Nc(4),w.mc(5,"getById"),w.Yb(),w.Yb()),2&t){const t=e.$implicit,i=w.lc();w.Fb(1),w.sc("ngStyle",w.vc(10,ot,w.pc(2,2,i.labels,t,"color"))),w.Fb(3),w.Oc(w.pc(5,6,i.labels,t,"title"))}}let bt=(()=>{class t{constructor(t){this._mailService=t,this._unsubscribeAll=new L.a}ngOnInit(){this.mail=new v(this.mail),this._mailService.onSelectedMailsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{if(this.selected=!1,t.length>0)for(const e of t)if(e.id===this.mail.id){this.selected=!0;break}}),this._mailService.onLabelsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.labels=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onSelectedChange(){this._mailService.toggleSelectedMail(this.mail.id)}toggleStar(t){t.stopPropagation(),this.mail.toggleStar(),this._mailService.updateMail(this.mail)}toggleImportant(t){t.stopPropagation(),this.mail.toggleImportant(),this._mailService.updateMail(this.mail)}}return t.\u0275fac=function(e){return new(e||t)(w.Tb(F))},t.\u0275cmp=w.Nb({type:t,selectors:[["mail-list-item"]],hostVars:2,hostBindings:function(t,e){2&t&&w.Jb("selected",e.selected)},inputs:{mail:"mail"},decls:19,vars:9,consts:[["fxLayout","row","fxLayoutAlign","start center"],[3,"ngModel","ngModelChange","click"],["fxFlex","","FlexLayout","column",1,"info"],["fxLayout","row","fxLayoutAlign","start center",1,"row-1"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"name"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar accent",4,"ngIf"],["class","text-truncate",4,"ngIf"],["class","s-16 ml-8",4,"ngIf"],[1,"time"],["fxLayout","row","fxLayoutAlign","start center",1,"row-2"],["fxLayout","column","fxLayoutAlign","start start"],[1,"subject","text-truncate"],["class","message text-truncate",4,"ngIf"],["fxLayout","row wrap","fxHide","","fxShow.gt-sm","",1,"labels"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],[1,"avatar",3,"alt","src"],[1,"avatar","accent"],[1,"text-truncate"],[1,"s-16","ml-8"],[1,"message","text-truncate"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"]],template:function(t,e){1&t&&(w.Zb(0,"div",0),w.Zb(1,"mat-checkbox",1),w.hc("ngModelChange",(function(t){return e.selected=t}))("ngModelChange",(function(t){return e.onSelectedChange()}))("click",(function(t){return t.stopPropagation()})),w.Yb(),w.Zb(2,"div",2),w.Zb(3,"div",3),w.Zb(4,"div",4),w.Lc(5,at,1,2,"img",5),w.Lc(6,nt,2,1,"div",6),w.Lc(7,lt,2,1,"span",7),w.Lc(8,st,2,0,"mat-icon",8),w.Yb(),w.Zb(9,"div",0),w.Zb(10,"div",9),w.Nc(11),w.Yb(),w.Yb(),w.Yb(),w.Zb(12,"div",10),w.Zb(13,"div",11),w.Zb(14,"div",12),w.Nc(15),w.Yb(),w.Lc(16,ct,4,8,"div",13),w.Zb(17,"div",14),w.Lc(18,rt,6,12,"div",15),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Yb()),2&t&&(w.Fb(1),w.sc("ngModel",e.selected),w.Fb(4),w.sc("ngIf",null==e.mail.from?null:e.mail.from.avatar),w.Fb(1),w.sc("ngIf",!(null!=e.mail.from&&e.mail.from.avatar)),w.Fb(1),w.sc("ngIf",null==e.mail?null:e.mail.from),w.Fb(1),w.sc("ngIf",e.mail.hasAttachments),w.Fb(3),w.Oc(e.mail.time),w.Fb(4),w.Pc(" ",e.mail.subject," "),w.Fb(1),w.sc("ngIf",null==e.mail?null:e.mail.message),w.Fb(2),w.sc("ngForOf",e.mail.labels))},directives:[E.c,E.b,l.a,Z.o,Z.r,E.a,R.t,P.b,R.s,r.a,R.w,P.c],pipes:[R.E,et.a,it.a],styles:["mail-list-item{flex-shrink:0;position:relative;padding:16px 24px;border-bottom:1px solid;cursor:pointer}mail-list-item.unread .info .name,mail-list-item.unread .info .row-2 .subject{font-weight:700}mail-list-item .info{overflow:hidden;width:0;margin-left:16px;position:relative}mail-list-item .info .row-1{margin-bottom:8px}mail-list-item .info .row-1 .name{font-size:15px;font-weight:600}mail-list-item .info .row-1 .name .avatar{min-width:32px;width:32px;height:32px;line-height:32px}mail-list-item .info .row-1 .actions{margin-left:4px}mail-list-item .info .row-1 .actions .mat-icon-button{width:32px;height:32px;line-height:1}mail-list-item .info .row-2 .message,mail-list-item .info .row-2 .subject{width:100%}mail-list-item .info .row-2 .message{position:relative}mail-list-item .info .row-2 .labels{margin-top:8px}mail-list-item .info .row-2 .labels .label{font-size:11px;border-radius:4px;margin:0 4px 0 0;padding:3px 8px}mail-list-item .info .row-2 .labels .label .label-color{width:8px;height:8px;margin-right:8px;border-radius:50%}"],encapsulation:2}),t})();function mt(t,e){1&t&&(w.Zb(0,"div",3),w.Zb(1,"span",4),w.Nc(2),w.mc(3,"translate"),w.Yb(),w.Yb()),2&t&&(w.Fb(2),w.Oc(w.nc(3,1,"MAIL.NO_MESSAGES")))}const dt=function(t){return{"current-mail":t}},ut=function(){return{y:"100%"}},ht=function(t){return{value:"*",params:t}};function ft(t,e){if(1&t){const t=w.ac();w.Zb(0,"mail-list-item",5),w.hc("click",(function(i){w.Dc(t);const a=e.$implicit;return w.lc().readMail(a.id)})),w.Yb()}if(2&t){const t=e.$implicit,i=w.lc();w.sc("mail",t)("ngClass",w.vc(3,dt,(null==t?null:t.id)==(null==i.currentMail?null:i.currentMail.id)))("@animate",w.vc(6,ht,w.uc(5,ut)))}}const pt=function(){return{value:"50"}};let gt=(()=>{class t{constructor(t,e,i){this._activatedRoute=t,this._mailService=e,this._location=i,this._unsubscribeAll=new L.a}ngOnInit(){this._mailService.onMailsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.mails=t}),this._mailService.onCurrentMailChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{if(t)this.currentMail=t;else{this.currentMail=null;const t=this._activatedRoute.snapshot.params.labelHandle,e=this._activatedRoute.snapshot.params.filterHandle,i=this._activatedRoute.snapshot.params.folderHandle;this._location.go(t?"apps/mail/label/"+t:e?"apps/mail/filter/"+e:"apps/mail/"+i)}})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}readMail(t){const e=this._activatedRoute.snapshot.params.labelHandle,i=this._activatedRoute.snapshot.params.filterHandle;this._location.go(e?"apps/mail/label/"+e+"/"+t:i?"apps/mail/filter/"+i+"/"+t:"apps/mail/"+this._activatedRoute.snapshot.params.folderHandle+"/"+t),this._mailService.setCurrentMail(t)}}return t.\u0275fac=function(e){return new(e||t)(w.Tb(a.a),w.Tb(F),w.Tb(R.n))},t.\u0275cmp=w.Nb({type:t,selectors:[["mail-list"]],decls:3,vars:4,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[1,"mail-list"],[3,"mail","ngClass","click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[3,"mail","ngClass","click"]],template:function(t,e){1&t&&(w.Lc(0,mt,4,3,"div",0),w.Zb(1,"div",1),w.Lc(2,ft,1,8,"mail-list-item",2),w.Yb()),2&t&&(w.sc("ngIf",0===e.mails.length),w.Fb(1),w.sc("@animateStagger",w.uc(3,pt)),w.Fb(1),w.sc("ngForOf",e.mails))},directives:[R.t,R.s,E.c,E.b,E.d,bt,R.q,P.a],pipes:[h.c],styles:["mail-list{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;padding:0;border-right:1px solid;overflow-y:auto;-webkit-overflow-scrolling:touch}mail-list .no-messages-text{font-size:24px;font-weight:300}mail-list .mail-list{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1}"],encapsulation:2,data:{animation:I.a}}),t})();const xt=function(){return{delay:"300ms",scale:"0.2"}},vt=function(t){return{value:"*",params:t}},wt=function(){return{delay:"400ms"}};function Yt(t,e){1&t&&(w.Zb(0,"div",2),w.Zb(1,"mat-icon",3),w.Nc(2," email "),w.Yb(),w.Zb(3,"span",4),w.Zb(4,"span"),w.Nc(5),w.mc(6,"translate"),w.Yb(),w.Yb(),w.Yb()),2&t&&(w.Fb(1),w.sc("@animate",w.vc(6,vt,w.uc(5,xt))),w.Fb(2),w.sc("@animate",w.vc(9,vt,w.uc(8,wt))),w.Fb(2),w.Oc(w.nc(6,3,"MAIL.SELECT_A_MESSAGE_TO_READ")))}const Ft=function(t){return{"background-color":t}};function Zt(t,e){if(1&t&&(w.Zb(0,"div",34),w.Ub(1,"div",35),w.mc(2,"getById"),w.Zb(3,"div",36),w.Nc(4),w.mc(5,"getById"),w.Yb(),w.Yb()),2&t){const t=e.$implicit,i=w.lc(2);w.Fb(1),w.sc("ngStyle",w.vc(10,Ft,w.pc(2,2,i.labels,t,"color"))),w.Fb(3),w.Oc(w.pc(5,6,i.labels,t,"title"))}}function Lt(t,e){1&t&&(w.Zb(0,"mat-icon",37),w.Nc(1,"star"),w.Yb())}function St(t,e){1&t&&(w.Zb(0,"mat-icon",38),w.Nc(1,"star_border"),w.Yb())}function Mt(t,e){1&t&&(w.Zb(0,"mat-icon",39),w.Nc(1,"label"),w.Yb())}function yt(t,e){1&t&&(w.Zb(0,"mat-icon",38),w.Nc(1,"label_outline"),w.Yb())}function _t(t,e){if(1&t&&w.Ub(0,"img",40),2&t){const t=w.lc(2);w.tc("alt",t.mail.from.name),w.tc("src",t.mail.from.avatar,w.Fc)}}function At(t,e){if(1&t&&(w.Zb(0,"div",41),w.Nc(1),w.Yb()),2&t){const t=w.lc(2);w.Fb(1),w.Pc(" ",t.mail.from.name[0]," ")}}function Ct(t,e){1&t&&(w.Zb(0,"span"),w.Nc(1,"Show Details"),w.Yb())}function Ot(t,e){1&t&&(w.Zb(0,"span"),w.Nc(1,"Hide Details"),w.Yb())}function Nt(t,e){if(1&t&&(w.Zb(0,"div",42),w.Zb(1,"div",43),w.Zb(2,"span",44),w.Nc(3,"From:"),w.Yb(),w.Zb(4,"span",44),w.Nc(5,"To:"),w.Yb(),w.Zb(6,"span",44),w.Nc(7,"Date:"),w.Yb(),w.Yb(),w.Zb(8,"div",43),w.Zb(9,"span",45),w.Nc(10),w.Yb(),w.Zb(11,"span",45),w.Nc(12),w.Yb(),w.Zb(13,"span",45),w.Nc(14),w.Yb(),w.Yb(),w.Yb()),2&t){const t=w.lc(2);w.Fb(10),w.Oc(t.mail.from.email),w.Fb(2),w.Oc(t.mail.to[0].email),w.Fb(2),w.Oc(t.mail.time)}}function kt(t,e){if(1&t&&(w.Zb(0,"div",49),w.Ub(1,"img",50),w.Zb(2,"div",43),w.Zb(3,"a",51),w.Nc(4,"View"),w.Yb(),w.Zb(5,"a",51),w.Nc(6,"Download"),w.Yb(),w.Zb(7,"div",52),w.Nc(8),w.Yb(),w.Yb(),w.Yb()),2&t){const t=e.$implicit;w.Fb(1),w.tc("src",t.preview,w.Fc),w.Fb(7),w.Pc("(",t.size,")")}}function It(t,e){if(1&t&&(w.Zb(0,"div",46),w.Zb(1,"div",44),w.Zb(2,"span"),w.Nc(3,"Attachments"),w.Yb(),w.Nc(4),w.Yb(),w.Zb(5,"div",47),w.Lc(6,kt,9,2,"div",48),w.Yb(),w.Yb()),2&t){const t=w.lc(2);w.Fb(4),w.Pc(" (",t.mail.attachments.length,") "),w.Fb(2),w.sc("ngForOf",t.mail.attachments)}}function Et(t,e){if(1&t){const t=w.ac();w.Zb(0,"div"),w.Zb(1,"div",5),w.Zb(2,"div"),w.Zb(3,"div",6),w.Nc(4),w.Yb(),w.Zb(5,"div",7),w.Lc(6,Zt,6,12,"div",8),w.Yb(),w.Yb(),w.Zb(7,"div",9),w.Zb(8,"button",10),w.hc("click",(function(e){return w.Dc(t),w.lc().toggleStar(e)})),w.Lc(9,Lt,2,0,"mat-icon",11),w.Lc(10,St,2,0,"mat-icon",12),w.Yb(),w.Zb(11,"button",13),w.hc("click",(function(e){return w.Dc(t),w.lc().toggleImportant(e)})),w.Lc(12,Mt,2,0,"mat-icon",14),w.Lc(13,yt,2,0,"mat-icon",12),w.Yb(),w.Yb(),w.Yb(),w.Zb(14,"div",15),w.Zb(15,"div",16),w.Zb(16,"div",17),w.Zb(17,"div",18),w.Zb(18,"div"),w.Lc(19,_t,1,2,"img",19),w.Lc(20,At,2,1,"div",20),w.Yb(),w.Zb(21,"div",21),w.Zb(22,"div",22),w.Nc(23),w.Yb(),w.Zb(24,"div",23),w.Zb(25,"div",24),w.Nc(26,"to"),w.Yb(),w.Zb(27,"div"),w.Nc(28),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Zb(29,"a",25),w.hc("click",(function(e){w.Dc(t);const i=w.lc();return i.showDetails=!i.showDetails})),w.Lc(30,Ct,2,0,"span",1),w.Lc(31,Ot,2,0,"span",1),w.Yb(),w.Lc(32,Nt,15,3,"div",26),w.Yb(),w.Zb(33,"button",27),w.hc("click",(function(e){return w.Dc(t),e.stopPropagation()})),w.Zb(34,"mat-icon"),w.Nc(35,"more_vert"),w.Yb(),w.Yb(),w.Zb(36,"mat-menu",null,28),w.Zb(38,"button",29),w.Zb(39,"mat-icon"),w.Nc(40,"reply"),w.Yb(),w.Zb(41,"span"),w.Nc(42,"Reply"),w.Yb(),w.Yb(),w.Zb(43,"button",30),w.Zb(44,"mat-icon"),w.Nc(45,"forward"),w.Yb(),w.Zb(46,"span"),w.Nc(47,"Forward"),w.Yb(),w.Yb(),w.Zb(48,"button",31),w.Zb(49,"mat-icon"),w.Nc(50,"print"),w.Yb(),w.Zb(51,"span"),w.Nc(52,"Print"),w.Yb(),w.Yb(),w.Yb(),w.Yb(),w.Ub(53,"div",32),w.Yb(),w.Lc(54,It,7,2,"div",33),w.Yb()}if(2&t){const t=w.zc(37),e=w.lc();w.Fb(4),w.Oc(e.mail.subject),w.Fb(2),w.sc("ngForOf",e.mail.labels),w.Fb(3),w.sc("ngIf",e.mail.starred),w.Fb(1),w.sc("ngIf",!e.mail.starred),w.Fb(2),w.sc("ngIf",e.mail.important),w.Fb(1),w.sc("ngIf",!e.mail.important),w.Fb(6),w.sc("ngIf",e.mail.from.avatar),w.Fb(1),w.sc("ngIf",!e.mail.from.avatar),w.Fb(3),w.Pc(" ",e.mail.from.name," "),w.Fb(5),w.Oc(e.mail.to[0].name),w.Fb(2),w.sc("ngIf",!e.showDetails),w.Fb(1),w.sc("ngIf",e.showDetails),w.Fb(1),w.sc("ngIf",e.showDetails),w.Fb(1),w.sc("matMenuTriggerFor",t),w.Fb(20),w.sc("innerHTML",e.mail.message,w.Ec),w.Fb(1),w.sc("ngIf",e.mail.attachments)}}let Tt=(()=>{class t{constructor(t){this._mailService=t,this.showDetails=!1,this._unsubscribeAll=new L.a}ngOnInit(){this._mailService.onCurrentMailChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.mail=t}),this._mailService.onLabelsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.labels=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleStar(t){t.stopPropagation(),this.mail.toggleStar(),this._mailService.updateMail(this.mail)}toggleImportant(t){t.stopPropagation(),this.mail.toggleImportant(),this._mailService.updateMail(this.mail)}}return t.\u0275fac=function(e){return new(e||t)(w.Tb(F))},t.\u0275cmp=w.Nb({type:t,selectors:[["mail-details"]],decls:2,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex",""],[1,"s-128","mb-16","select-message-icon","hint-text"],[1,"select-message-text","hint-text"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mail-header"],[1,"subject"],["fxLayout","row wrap",1,"labels","mt-8"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"actions"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","Toggle important",3,"click"],["class","red-fg",4,"ngIf"],[1,"mail-content"],["fxLayout","row","fxLayoutAlign","space-between start",1,"info"],["fxFlex","","fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","start start"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar","ms-random-class","vm.colors",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start"],[1,"name"],["fxLayout","row","fxLayoutAlign","start center",1,"to"],[1,"to-text"],[1,"toggle-details",3,"click"],["class","details","fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","Reply"],["mat-menu-item","","aria-label","Forward"],["mat-menu-item","","aria-label","Print"],[3,"innerHTML"],["class","mail-attachments",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"],[1,"amber-fg"],[1,"secondary-text"],[1,"red-fg"],[1,"avatar",3,"alt","src"],["ms-random-class","vm.colors",1,"avatar"],["fxLayout","row","fxLayoutAlign","start start",1,"details"],["fxLayout","column"],[1,"title"],[1,"detail"],[1,"mail-attachments"],["fxLayout","row wrap",1,"attachment-list"],["class","attachment","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"attachment"],[1,"preview",3,"src"],["href","#","onclick","event.preventDefault()"],[1,"size"]],template:function(t,e){1&t&&(w.Lc(0,Yt,7,11,"div",0),w.Lc(1,Et,55,16,"div",1)),2&t&&(w.sc("ngIf",!e.mail),w.Fb(1),w.sc("ngIf",e.mail))},directives:[R.t,E.c,E.b,E.a,r.a,R.s,n.b,m.c,m.d,m.a,R.w,P.c],pipes:[h.c,it.a],styles:["mail-details{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;padding:24px;overflow-y:auto;-webkit-overflow-scrolling:touch}mail-details .select-message-text{font-size:24px;font-weight:300}mail-details .mail-header{padding-bottom:16px;border-bottom:1px solid}mail-details .mail-header .actions{min-width:88px}mail-details .mail-header .subject{font-size:17px;font-weight:600}mail-details .mail-header .label{font-size:11px;border-radius:4px;margin:4px 4px 4px 0;padding:3px 8px}mail-details .mail-header .label .label-color{width:8px;height:8px;margin-right:8px;border-radius:50%}mail-details .mail-content{padding:24px 0}mail-details .mail-content .to .to-text{margin-right:4px;text-transform:lowercase}mail-details .mail-content .info{padding-bottom:16px}mail-details .mail-content .info .avatar{margin-right:16px}mail-details .mail-content .info .name{margin-right:8px;font-weight:600}mail-details .mail-content .info .toggle-details{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:underline;padding-top:16px;cursor:pointer;font-weight:600}mail-details .mail-content .info .details{padding-top:8px}mail-details .mail-content .info .details .title{font-weight:600;margin-right:6px}mail-details .mail-attachments{padding:24px 0;border-top:1px solid}mail-details .mail-attachments .title{margin-bottom:16px;font-weight:600}mail-details .mail-attachments .attachment .preview{width:100px;margin:0 16px 8px 0;border-radius:4px}mail-details .mail-attachments .attachment .link{margin-bottom:2px}mail-details .mail-attachments .attachment .size{font-size:11px}"],encapsulation:2,data:{animation:I.a}}),t})();function Pt(t,e){1&t&&w.Ub(0,"div",26)}function Dt(t,e){if(1&t){const t=w.ac();w.Zb(0,"button",27),w.hc("click",(function(e){return w.Dc(t),w.lc().setFolderOnSelectedMails(4)})),w.Zb(1,"mat-icon",8),w.Nc(2,"delete"),w.Yb(),w.Yb()}}function Rt(t,e){if(1&t&&(w.Zb(0,"button",14),w.Zb(1,"mat-icon",8),w.Nc(2,"folder"),w.Yb(),w.Yb()),2&t){w.lc();const t=w.zc(44);w.sc("matMenuTriggerFor",t)}}function jt(t,e){if(1&t){const t=w.ac();w.Zb(0,"button",16),w.hc("click",(function(i){w.Dc(t);const a=e.$implicit;return w.lc().setFolderOnSelectedMails(a.id)})),w.Nc(1),w.Yb()}if(2&t){const t=e.$implicit;w.Fb(1),w.Pc("",t.title," ")}}function Ht(t,e){if(1&t&&(w.Zb(0,"button",14),w.Zb(1,"mat-icon",8),w.Nc(2,"label"),w.Yb(),w.Yb()),2&t){w.lc();const t=w.zc(48);w.sc("matMenuTriggerFor",t)}}function Bt(t,e){if(1&t){const t=w.ac();w.Zb(0,"button",16),w.hc("click",(function(i){w.Dc(t);const a=e.$implicit;return w.lc().toggleLabelOnSelectedMails(a.id)})),w.Nc(1),w.Yb()}if(2&t){const t=e.$implicit;w.Fb(1),w.Pc("",t.title," ")}}function Ut(t,e){if(1&t){const t=w.ac();w.Zb(0,"div",28),w.Zb(1,"button",27),w.hc("click",(function(e){return w.Dc(t),w.lc().deselectCurrentMail()})),w.Zb(2,"mat-icon",8),w.Nc(3,"arrow_back"),w.Yb(),w.Yb(),w.Yb()}}const zt=function(t){return{"current-mail-selected":t}};let $t=(()=>{class t{constructor(t,e,i){this._mailService=t,this._fuseSidebarService=e,this._fuseTranslationLoaderService=i,this._fuseTranslationLoaderService.loadTranslations(_,A),this.searchInput=new Z.d(""),this._unsubscribeAll=new L.a}ngOnInit(){this._mailService.onSelectedMailsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{setTimeout(()=>{this.hasSelectedMails=t.length>0,this.isIndeterminate=t.length!==this._mailService.mails.length&&t.length>0},0)}),this._mailService.onFoldersChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.folders=this._mailService.folders}),this._mailService.onFiltersChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.filters=this._mailService.filters}),this._mailService.onLabelsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.labels=this._mailService.labels}),this._mailService.onCurrentMailChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.currentMail=t||null}),this.searchInput.valueChanges.pipe(Object(S.a)(this._unsubscribeAll),Object(M.a)(300),Object(y.a)()).subscribe(t=>{this._mailService.onSearchTextChanged.next(t)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSelectAll(){this._mailService.toggleSelectAll()}selectMails(t,e){this._mailService.selectMails(t,e)}deselectMails(){this._mailService.deselectMails()}deselectCurrentMail(){this._mailService.onCurrentMailChanged.next(null)}toggleLabelOnSelectedMails(t){this._mailService.toggleLabelOnSelectedMails(t)}setFolderOnSelectedMails(t){this._mailService.setFolderOnSelectedMails(t)}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}}return t.\u0275fac=function(e){return new(e||t)(w.Tb(F),w.Tb(C.a),w.Tb(O.a))},t.\u0275cmp=w.Nb({type:t,selectors:[["mail"]],decls:54,vars:17,consts:[["id","mail",1,"page-layout","carded","left-sidebar","inner-scroll"],[1,"top-bg","accent"],["name","mail-main-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"center"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["mat-icon-button","","fxHide.gt-md","",1,"sidebar-toggle",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"search"],[1,"secondary-text"],["fxFlex","",3,"formControl","placeholder"],[1,"content-card",3,"ngClass"],[1,"toolbar","px-24","py-8"],["fxFlex","row","fxLayoutAlign","start center",1,"mail-selection"],[3,"checked","indeterminate","click"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],["class","toolbar-separator",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["folderMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["labelMenu","matMenu"],["fxHide.gt-xs","",4,"ngIf"],["fxLayout","row",1,"content"],["fusePerfectScrollbar","","fxFlex",""],[1,"toolbar-separator"],["mat-icon-button","",3,"click"],["fxHide.gt-xs",""]],template:function(t,e){if(1&t&&(w.Zb(0,"div",0),w.Ub(1,"div",1),w.Zb(2,"fuse-sidebar",2),w.Ub(3,"mail-main-sidebar"),w.Yb(),w.Zb(4,"div",3),w.Zb(5,"div",4),w.Zb(6,"div",5),w.Zb(7,"button",6),w.hc("click",(function(t){return e.toggleSidebar("mail-main-sidebar")})),w.Zb(8,"mat-icon"),w.Nc(9,"menu"),w.Yb(),w.Yb(),w.Zb(10,"div",7),w.Zb(11,"mat-icon",8),w.Nc(12,"search"),w.Yb(),w.Ub(13,"input",9),w.mc(14,"translate"),w.Yb(),w.Yb(),w.Yb(),w.Zb(15,"div",10),w.Zb(16,"div",11),w.Zb(17,"div",12),w.Zb(18,"mat-checkbox",13),w.hc("click",(function(t){return e.toggleSelectAll()})),w.Yb(),w.Zb(19,"button",14),w.Zb(20,"mat-icon"),w.Nc(21,"arrow_drop_down"),w.Yb(),w.Yb(),w.Zb(22,"mat-menu",null,15),w.Zb(24,"button",16),w.hc("click",(function(t){return e.selectMails()})),w.Nc(25,"All"),w.Yb(),w.Zb(26,"button",16),w.hc("click",(function(t){return e.deselectMails()})),w.Nc(27,"None"),w.Yb(),w.Zb(28,"button",16),w.hc("click",(function(t){return e.selectMails("read",!0)})),w.Nc(29,"Read"),w.Yb(),w.Zb(30,"button",16),w.hc("click",(function(t){return e.selectMails("read",!1)})),w.Nc(31,"Unread"),w.Yb(),w.Zb(32,"button",16),w.hc("click",(function(t){return e.selectMails("starred",!0)})),w.Nc(33,"Starred"),w.Yb(),w.Zb(34,"button",16),w.hc("click",(function(t){return e.selectMails("starred",!1)})),w.Nc(35,"Unstarred"),w.Yb(),w.Zb(36,"button",16),w.hc("click",(function(t){return e.selectMails("important",!0)})),w.Nc(37,"Important"),w.Yb(),w.Zb(38,"button",16),w.hc("click",(function(t){return e.selectMails("important",!1)})),w.Nc(39,"Unimportant"),w.Yb(),w.Yb(),w.Lc(40,Pt,1,0,"div",17),w.Lc(41,Dt,3,0,"button",18),w.Lc(42,Rt,3,1,"button",19),w.Zb(43,"mat-menu",null,20),w.Lc(45,jt,2,1,"button",21),w.Yb(),w.Lc(46,Ht,3,1,"button",19),w.Zb(47,"mat-menu",null,22),w.Lc(49,Bt,2,1,"button",21),w.Yb(),w.Yb(),w.Lc(50,Ut,4,0,"div",23),w.Yb(),w.Zb(51,"div",24),w.Ub(52,"mail-list",25),w.Ub(53,"mail-details",25),w.Yb(),w.Yb(),w.Yb(),w.Yb()),2&t){const t=w.zc(23);w.Fb(13),w.sc("formControl",e.searchInput)("placeholder",w.nc(14,13,"MAIL.SEARCH_PLACEHOLDER")),w.Fb(2),w.sc("ngClass",w.vc(15,zt,e.currentMail)),w.Fb(3),w.sc("checked",e.hasSelectedMails)("indeterminate",e.isIndeterminate),w.Fb(1),w.sc("matMenuTriggerFor",t),w.Fb(21),w.sc("ngIf",e.hasSelectedMails),w.Fb(1),w.sc("ngIf",e.hasSelectedMails),w.Fb(1),w.sc("ngIf",e.hasSelectedMails),w.Fb(3),w.sc("ngForOf",e.folders),w.Fb(1),w.sc("ngIf",e.hasSelectedMails),w.Fb(3),w.sc("ngForOf",e.labels),w.Fb(1),w.sc("ngIf",e.currentMail)}},directives:[N.a,k.a,tt,E.c,E.b,E.a,n.b,P.b,r.a,Z.b,Z.o,Z.e,R.q,P.a,l.a,m.c,m.d,m.a,R.t,R.s,gt,T.a,Tt],pipes:[h.c],styles:["mail{width:100%}mail .center .header .search-wrapper{border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}mail .center .header .search-wrapper .sidebar-toggle{margin:0 0 0 6px;width:56px;height:56px;border-radius:0;border-right:1px solid}mail .center .header .search-wrapper .search{width:100%;height:56px;line-height:56px;padding:0 18px}mail .center .header .search-wrapper .search input{height:56px;min-height:56px;max-height:56px;padding:0 16px;border:none;outline:none}mail .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:599px){mail .center .content-card mail-list{border-right:none}mail .center .content-card mail-details,mail .center .content-card mail-list{-webkit-box-flex:1;flex:1 0 100%}mail .center .content-card mail-details{display:none!important}mail .center .content-card.current-mail-selected .toolbar{padding-left:16px!important}mail .center .content-card.current-mail-selected .content mail-list,mail .center .content-card.current-mail-selected .toolbar .mail-selection{display:none!important}mail .center .content-card.current-mail-selected .content mail-details{display:-webkit-box!important;display:flex!important}}"],encapsulation:2}),t})();i.d(e,"MailModule",(function(){return qt}));const Gt=[{path:"label/:labelHandle",component:$t,resolve:{mail:F}},{path:"label/:labelHandle/:mailId",component:$t,resolve:{mail:F}},{path:"filter/:filterHandle",component:$t,resolve:{mail:F}},{path:"filter/:filterHandle/:mailId",component:$t,resolve:{mail:F}},{path:":folderHandle",component:$t,resolve:{mail:F}},{path:":folderHandle/:mailId",component:$t,resolve:{mail:F}},{path:"**",redirectTo:"inbox"}];let qt=(()=>{class t{}return t.\u0275mod=w.Rb({type:t}),t.\u0275inj=w.Qb({factory:function(e){return new(e||t)},providers:[F],imports:[[a.k.forChild(Gt),n.c,l.b,c.e,o.d,r.b,b.c,m.b,s.s,d.b,u.b,h.b,f.a,p.f]]}),t})()}}]);