<div fxLayout="row" fxLayoutAlign="start center">

    <mat-checkbox [(ngModel)]="selected" (ngModelChange)="onSelectedChange()"
                  (click)="$event.stopPropagation();"></mat-checkbox>

    <div class="info" fxFlex FlexLayout="column">

        <div class="row-1" fxLayout="row" fxLayoutAlign="start center">

          <div class="name" fxLayout="row" fxLayoutAlign="start center" fxFlex>
            <!-- <img class="avatar" *ngIf="opinion.avatar" alt="{{opinion.from?.user}}" src="{{opinion.avatar}}"/> -->
            <!-- <div class="avatar accent" *ngIf="!opinion.userend">{{opinion.userend.name_alias}}</div> -->
            <span class="text-truncate">{{opinion.userend.name_alias}}</span>
            <!-- <mat-icon class="s-16 ml-8" *ngIf="opinion.polaridad">{{opinion.polaridad}}</mat-icon> -->
          </div>
          <div fxLayout="row" fxLayoutAlign="start center">
                <div class="time">{{opinion.fecha | date: 'MMM d, y'}}</div>

            </div>

        </div>

        <div class="row-2" fxLayout="row" fxLayoutAlign="start center">

            <div fxLayout="column" fxLayoutAlign="start start">

                <div class="subject text-truncate">
                    {{opinion.userend.email}}
                </div>

                <div class="message text-truncate" *ngIf="opinion?.texto">
                    {{opinion.texto | htmlToPlaintext | slice:0:180}}{{opinion.texto.length > 180 ? '...' : ''}}
                </div>

                <div class="labels" fxLayout="row wrap" fxHide fxShow.gt-sm>
                    <div class="label" fxLayout="row" fxLayoutAlign="start center">
                        <div class="label-color"
                             [ngStyle]="{'background-color': (opinion.polaridad==='negativa'?'red':'acent')}"></div>
                        <div class="label-title">{{opinion.polaridad}}</div>
                    </div>
                </div>

            </div>

        </div>

    </div>

</div>
